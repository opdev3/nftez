<!DOCTYPE html>

<html lang="en">
<head>
    <title>ZeroTerminal</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="keywords" content="tezos, blockchain, nft, marketplace, on-chain, xtz, tezos tokens, tezos nft, on-chain nft, tezos marketplace, nft marketplace"/>
    <meta name="description" content="ZeroTerminal is a decentralized application for creating, selling and collecting on-chain NFTs on Tezos."/>
    <link rel="canonical" href="https://zeroterminal.art"/>

    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAYAAABxyNlsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfxSURBVHgB7Z2/U9tYEMcXc8UVycRXJk1kMpOkS27SXHemT3JQkuZIk1yXZFJdhdPnx9EdUAAN3FWQgR7zBzCBEmYA0UCJZ2iugtuveU8jPyRLlvR+ZfjMGEm2YOwv633v7a5WQ+QIQRDUedOs1WoBbx/xA8eP5csJvxJeXFx0eNsZGhra5u3R+fk5ttthGHbIAYbIEkLMMRYTQo7dvHkzuH//PhVlb2+Pzs7Ouvss+jYEZ7G/stCrZAmj4kpB+YP/zo+mfP727du0tLRELDAV5fnz53R8fJz28ioLvWha6B/IACxqwBb6hncn6fLr3sOTJ09KCZsDfEPGRkZGQt5vs9AfWOiQNFMjjbCmzUajscEf7JAP31KCsGBzc5NOTk6oKHAJfay25y3xYxLvh4Wexz+dNKLFLQhLnaJLS62cqakpevbsWXSc4RKyWNBlyZVbLlvEGxb2G2kSFi4kLuza2loZYQEseePevXuTVDGVWS6slQep+fhApQOIiQEQwJW8fv26rLgRPMto8+NlVVZcieVKa9Ut7NOnTyNhwczMTGXCArz/Kq24lOViasVv5gtpcgFxIOrs7GyP1cbdgwZaBwcHH6gEhS1XuIENMiAsePXqVY/Vtlot0kyLv5ErYm5eiELiitnABov7mAwAUdVBbGtriwyA+fG3olO2gcWVwlLyel8LqpXOzc2RQbqft4jAA4lrQ1gMYph+SeB3qxzEclJI4NwDmg1hgTr10jyI9QUBIX6M5o265bZc9q8rZFhYdRDD1MsmGGPYwObznp9LXB41v5gavCQQFeJK2u02ra+vkwMgADSV58RMcbFAoMugi1HiwoLPnz+TQ7QQlMo6qa+4woH/RYZB0DzuW5eXl20MYn1h97CSNcDVMv7ABlng06dP0T4GMYjrIHXEUvqdkCqu8CsBGUZ3/KBKEItg4x1Lez1RXGHuxv0sREWUSwKrdWQQSwWxlbQlci3lF2C1hdfURVGnXnGhHQbz/0RDvCKusNpJMkxS/MBVd5DAmyTrvZKgFFZrnPfv3/cc37lzp5vOyQOCOJbdR11Ybyv+ZM/yVyxxD8kwzWaTPn78SGUYHR2N6hYs0eFcXCO+NO5xC7as9saNG/QdUFd9r+oWmmQBzArgY4sCt2DZaiVYzbbkQeQW2CNMDhKUuCYZdg2ImrWxH7kFlBjRNaVBZU+0jx+YRujO3OoAJVDxQLojREbaFXd4eLhJHoLiPSyPy/hrDdRlxKwrLkfXfyPPmJiYiFZz2GJe7ArsGprdrTg2GggvC8R88eJFdIzZhkurOTbWX7GtiWWbV+K6HoOQWRtYrndW60EMot5oNO6ye6h5JS5S6xIsHAzXMOSGdR2F5QbkCWog3cX0j4T9blDjH4/IAzCnVQPpcSt2kLs1dr7Gg+JFiE+9gO0ahizYaH+CW3BeXLWGAYOY6+kfguWSBz5XrWFwdRCLA4+g9WqeKsAg5noNQxrOi6sOYo7WMCTitLhJg5hHScuuuE5chKySFD/wYBDrwVlxPa1hiOCpWOikuJ7XMERgERGSY8RXXnAHPky9VFjXHSx/j8gh1PiBr1bLdOAWQnIED+MHqaBrSU20LnEC3+IHGXQHNCfE9TR+kEYnDMPtmqhtCskyPsYP0sAlVdjKFdpXsojaQ8HShXyVwTOFrp5dcdnvWutgpOJb/CAJ1rON7TB+1Ot19Ob6g3d/JAvI1DhyYrjYpEy/GwcIDw8P/8ROVIiHRj8+ljQ5yMLBwcFL7ERRMXbCpRo3XHMJu4Rpud9TWT4yMnJKDqZ9cNFfv75jDlXchGy1DXmgFj9DdSvV5UlgUYEpWlZDN9tXs0vYrfZ8+3uC5WzSuBTViSgZRMVFKHk65TlSiBfu7+8vxJ/oERcLCva9Vue8QF2tZYEr2h1wC4vqE1culWJxW7arzFVhEcyJdxl1kJC/9Qvqk1dyaKJhmbWZQ1qzIIeFBdNJjd4SE5Q2fa+HMQbMEBLbJiSKK4I5xq3Xx/QOG+K7tNdSU+v4b6C3IRnEQ6td6NfwuG/dAppGkiH34KHVYhDr++3uKy6cNP+Bl2QA36yWdRnP6laaWXEjzH6aNIKFgmdWi2bGmRmcXOVM7H/f6vS/apd9x+O506xHK8+JuWvFWNxxmb6omnhSEmDB4CirMLS8J+cWVyyNx8lAvk1z5/1CwLAGHX8GqnIUA9woVSyw2q4VhSEuMWgPR8nAJaRS4CpdBEKGcYHj1Y22EX3MBxYWDFMBOgzn3f7lAM9DPnxIFYF2LABuAbMFB3zvNOfDJvjj/kcFKN1tn7MXLaoowO5SO1fmXVrMIC+FLDfO6elp+9atWztsxb9QyRQRIl8OWC/c3jhb7D9UkkrK9rHQEH54kUqA8qV4Wt2C5U7z5/hZtlEpS2nLlXQuWWUrPhJXbRey4rj1InWDgc5AHYO01r+L+tckdN2bR7aBKuSLVd+L2YOmYDlmALlXXIOi9X5o4l4SSBuhE0luS8Y8N95hHwLv7u6mCoy7UiGPNgBdUZEUCDXe9c/IzeZEf8imaAoX5Pkd9K8Z5M5+eTriYc6KIjnku0IDt1I0fptENNfhDzjJD7QqCdLOU28Xk0UfcSHiIooNqxqo8mLtHpQAQqPZDnrCpA2CcBEPHjzo25JQcQsdcQ9KWOi2aUHjWBVXhcWGwIHoXnIXDSHwPAsVqOfiOi9+vnv3VH7ssJAhXd45NSRH+B/DKuT49uCWggAAAABJRU5ErkJggg=="/>

    <script type="module">import * as beacon from "https://cdn.jsdelivr.net/npm/@airgap/beacon-sdk@4.5.1/dist/walletbeacon.min.js";</script>
    <script type="module">import * as bulmaToast from "https://cdn.jsdelivr.net/npm/bulma-toast@2.4.2/dist/bulma-toast.min.js";</script>

    <style>
        @import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap");
        @import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css");
        @import url("https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css");
        @import url("https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css");

        .is-collapsible {
            height: auto;
            max-height: 0;
            overflow-y: hidden;
            transition: max-height 0.2s ease;
        }
        .is-collapsible.is-active {
            max-height: 1200px !important;
        }

        .faq {
            border: 1px solid grey;
            border-radius: 10px;
            padding: 0.25rem;
        }
        .faq-body {
            border: 0;
        }
        
        .copy-item {
            cursor: copy;
        }
        .copy-item:hover {
            background-color: #F5F5F5;
        }

        .is-256x256 {
            width: 256px;
            height: 256px;
        }
        .is-512x512 {
            width: 512px;
            height: 512px;
        }

        .overflow-ellipsis {
            text-overflow: ellipsis;
            /*white-space: nowrap;*/
            display: block;
            overflow: hidden;
        }

        .grid-collections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 16px;
        }
        .grid-tokens {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(256px, 1fr));
            gap: 16px;
        }
        
        body, button, input, optgroup, select, textarea {
            min-width: 80px;
            font-family: "IBM Plex Mono";
            font-weight: 400;
        }

        .title, .button, .field-label {
            text-transform: uppercase;
        }
        
        .field-label, .field-body {
            flex-basis: auto;
            flex-grow: 0;
        }
        
        .modal-card-foot, .modal-card-head {
            text-transform: uppercase;
            background-color: #FFFFFF;
            border-top: 0;
            border-bottom: 0;
        }
        
        .delete, .modal-close {
            background-color: #FFFFFF;
            border: none;
            height: 30px;
            max-height: 30px;
            max-width: 30px;
            min-height: 30px;
            min-width: 30px;
            width: 30px;
        }
        .delete::after, .delete::before, .modal-close::after, .modal-close::before {
            background-color: #565656;
        }
        
        .fullscreen-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            margin: 0; background: rgba(0,0,0,0.87);
            display: flex; justify-content: center; align-items: center;
            z-index: 1000;
        }

    </style>

    <script>
        const GRAY_RECT = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAgMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyB4PScwJyB5PScwJyBmaWxsPScjZjVmNWY1Jy8+PC9zdmc+";
    </script>
</head>


<body>
    
<nav class="navbar" role="navigation" aria-label="main navigation" style="box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);">
<div class="container">
    <div class="navbar-brand ml-0 mr-5">
        <div class="navbar-item">
            <img id="appLogo" class="is-clickable is-unselectable" onclick="window.location.href=window.location.pathname" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAYAAABxyNlsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfxSURBVHgB7Z2/U9tYEMcXc8UVycRXJk1kMpOkS27SXHemT3JQkuZIk1yXZFJdhdPnx9EdUAAN3FWQgR7zBzCBEmYA0UCJZ2iugtuveU8jPyRLlvR+ZfjMGEm2YOwv633v7a5WQ+QIQRDUedOs1WoBbx/xA8eP5csJvxJeXFx0eNsZGhra5u3R+fk5ttthGHbIAYbIEkLMMRYTQo7dvHkzuH//PhVlb2+Pzs7Ouvss+jYEZ7G/stCrZAmj4kpB+YP/zo+mfP727du0tLRELDAV5fnz53R8fJz28ioLvWha6B/IACxqwBb6hncn6fLr3sOTJ09KCZsDfEPGRkZGQt5vs9AfWOiQNFMjjbCmzUajscEf7JAP31KCsGBzc5NOTk6oKHAJfay25y3xYxLvh4Wexz+dNKLFLQhLnaJLS62cqakpevbsWXSc4RKyWNBlyZVbLlvEGxb2G2kSFi4kLuza2loZYQEseePevXuTVDGVWS6slQep+fhApQOIiQEQwJW8fv26rLgRPMto8+NlVVZcieVKa9Ut7NOnTyNhwczMTGXCArz/Kq24lOViasVv5gtpcgFxIOrs7GyP1cbdgwZaBwcHH6gEhS1XuIENMiAsePXqVY/Vtlot0kyLv5ErYm5eiELiitnABov7mAwAUdVBbGtriwyA+fG3olO2gcWVwlLyel8LqpXOzc2RQbqft4jAA4lrQ1gMYph+SeB3qxzEclJI4NwDmg1hgTr10jyI9QUBIX6M5o265bZc9q8rZFhYdRDD1MsmGGPYwObznp9LXB41v5gavCQQFeJK2u02ra+vkwMgADSV58RMcbFAoMugi1HiwoLPnz+TQ7QQlMo6qa+4woH/RYZB0DzuW5eXl20MYn1h97CSNcDVMv7ABlng06dP0T4GMYjrIHXEUvqdkCqu8CsBGUZ3/KBKEItg4x1Lez1RXGHuxv0sREWUSwKrdWQQSwWxlbQlci3lF2C1hdfURVGnXnGhHQbz/0RDvCKusNpJMkxS/MBVd5DAmyTrvZKgFFZrnPfv3/cc37lzp5vOyQOCOJbdR11Ybyv+ZM/yVyxxD8kwzWaTPn78SGUYHR2N6hYs0eFcXCO+NO5xC7as9saNG/QdUFd9r+oWmmQBzArgY4sCt2DZaiVYzbbkQeQW2CNMDhKUuCYZdg2ImrWxH7kFlBjRNaVBZU+0jx+YRujO3OoAJVDxQLojREbaFXd4eLhJHoLiPSyPy/hrDdRlxKwrLkfXfyPPmJiYiFZz2GJe7ArsGprdrTg2GggvC8R88eJFdIzZhkurOTbWX7GtiWWbV+K6HoOQWRtYrndW60EMot5oNO6ye6h5JS5S6xIsHAzXMOSGdR2F5QbkCWog3cX0j4T9blDjH4/IAzCnVQPpcSt2kLs1dr7Gg+JFiE+9gO0ahizYaH+CW3BeXLWGAYOY6+kfguWSBz5XrWFwdRCLA4+g9WqeKsAg5noNQxrOi6sOYo7WMCTitLhJg5hHScuuuE5chKySFD/wYBDrwVlxPa1hiOCpWOikuJ7XMERgERGSY8RXXnAHPky9VFjXHSx/j8gh1PiBr1bLdOAWQnIED+MHqaBrSU20LnEC3+IHGXQHNCfE9TR+kEYnDMPtmqhtCskyPsYP0sAlVdjKFdpXsojaQ8HShXyVwTOFrp5dcdnvWutgpOJb/CAJ1rON7TB+1Ot19Ob6g3d/JAvI1DhyYrjYpEy/GwcIDw8P/8ROVIiHRj8+ljQ5yMLBwcFL7ERRMXbCpRo3XHMJu4Rpud9TWT4yMnJKDqZ9cNFfv75jDlXchGy1DXmgFj9DdSvV5UlgUYEpWlZDN9tXs0vYrfZ8+3uC5WzSuBTViSgZRMVFKHk65TlSiBfu7+8vxJ/oERcLCva9Vue8QF2tZYEr2h1wC4vqE1culWJxW7arzFVhEcyJdxl1kJC/9Qvqk1dyaKJhmbWZQ1qzIIeFBdNJjd4SE5Q2fa+HMQbMEBLbJiSKK4I5xq3Xx/QOG+K7tNdSU+v4b6C3IRnEQ6td6NfwuG/dAppGkiH34KHVYhDr++3uKy6cNP+Bl2QA36yWdRnP6laaWXEjzH6aNIKFgmdWi2bGmRmcXOVM7H/f6vS/apd9x+O506xHK8+JuWvFWNxxmb6omnhSEmDB4CirMLS8J+cWVyyNx8lAvk1z5/1CwLAGHX8GqnIUA9woVSyw2q4VhSEuMWgPR8nAJaRS4CpdBEKGcYHj1Y22EX3MBxYWDFMBOgzn3f7lAM9DPnxIFYF2LABuAbMFB3zvNOfDJvjj/kcFKN1tn7MXLaoowO5SO1fmXVrMIC+FLDfO6elp+9atWztsxb9QyRQRIl8OWC/c3jhb7D9UkkrK9rHQEH54kUqA8qV4Wt2C5U7z5/hZtlEpS2nLlXQuWWUrPhJXbRey4rj1InWDgc5AHYO01r+L+tckdN2bR7aBKuSLVd+L2YOmYDlmALlXXIOi9X5o4l4SSBuhE0luS8Y8N95hHwLv7u6mCoy7UiGPNgBdUZEUCDXe9c/IzeZEf8imaAoX5Pkd9K8Z5M5+eTriYc6KIjnku0IDt1I0fptENNfhDzjJD7QqCdLOU28Xk0UfcSHiIooNqxqo8mLtHpQAQqPZDnrCpA2CcBEPHjzo25JQcQsdcQ9KWOi2aUHjWBVXhcWGwIHoXnIXDSHwPAsVqOfiOi9+vnv3VH7ssJAhXd45NSRH+B/DKuT49uCWggAAAABJRU5ErkJggg=="/>
            <p id="appTitle" class="is-hidden title has-text-black is-size-3 is-clickable is-unselectable" onclick="window.location.href=window.location.pathname"></p>
            <p><sub id="titleNetwork" class="is-hidden is-unselectable has-text-grey-dark has-text-weight-light is-size-6">&nbsp;mainnet</sub></p>
        </div>
        <div id="btnBurger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="true" data-target="navbarMenu"
             onclick="this.classList.toggle('is-active'); document.getElementById('navbarMenu').classList.toggle('is-active');">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </div>
    </div>
    <div id="navbarMenu" class="navbar-menu mx-0 has-text-weight-semibold">
        <div class="navbar-start">
            <div class="navbar-item m-1 has-dropdown is-hoverable">
                <a id="btnMenuExplore" class="navbar-item is-uppercase">Explore<i class="fa-solid fa-chevron-down is-size-7 ml-1"></i></a>
                <div class="navbar-dropdown">
                    <a id="btnMenuTokens" class="navbar-item">Tokens</a>
                    <a id="btnMenuCollections" class="navbar-item">Collections</a>
                    <a id="btnMenuListings" class="navbar-item">Listings</a>
                </div>
            </div>
            <div class="navbar-item m-1 has-dropdown is-hoverable">
                <a id="btnMenuCreate" class="navbar-item is-uppercase">Create<i class="fa-solid fa-chevron-down is-size-7 ml-1"></i></a>
                <div class="navbar-dropdown">
                    <a id="btnMenuNewToken" class="navbar-item">Token</a>
                    <a id="btnMenuNewCollection" class="navbar-item">Collection</a>
                </div>
            </div>
            <a id="btnMenuSearch" class="navbar-item m-1 is-uppercase">Search</a>
            <a id="btnMenuInfo" class="navbar-item m-1 is-uppercase">Info</a>
        </div>

        <div class="navbar-end ">
            <div id="btnMenuConfig" class="navbar-item m-1 has-dropdown is-hoverable">
                <a id="btnMenuConfigButton" class="navbar-item has-text-weight-semibold">
                    <span class="icon px-4"><i class="fa-solid fa-gear"></i></span>
                </a>
                <div class="navbar-dropdown">
                    <a id="btnMenuMainnet" class="navbar-item" href="https://zeroterminal.art/">
                        <span id="iconMainnetNotActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle"></i></span>
                        <span id="iconMainnetActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle-dot"></i></span>
                        mainnet
                    </a>
                    <a id="btnMenuTestnet" class="navbar-item" href="https://testnet.zeroterminal.art/">
                        <span id="iconTestnetNotActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle"></i></span>
                        <span id="iconTestnetActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle-dot"></i></span>
                        testnet
                    </a>
                </div>
            </div>

            <div id="divConnect" class="navbar-item has-text-centered py-1">
                <button id="btnConnect" class="button has-text-weight-semibold">Connect wallet</button>
            </div>
            <div id="divDisconnect" class="navbar-item has-dropdown is-hoverable is-hidden">
                <a id="btnMenuUserAddress" class="navbar-item has-text-weight-semibold">
                    <span class="icon"><i class="fa-solid fa-user"></i></span>
                    <span id="aAddress"></span>
                    <i class="fa-solid fa-chevron-down is-size-7 ml-1"></i>
                </a>
                <div class="navbar-dropdown is-right">
                    <a id="btnMenuCopyAddress" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-regular fa-copy"></i></span>
                        <span class="">Copy address</span>
                    </a>
                    <hr class="navbar-divider has-background-grey-lighter"/>
                    <a id="btnMenuMyTokens" class="navbar-item">
                        <span class="icon pr-2"><i class="fas fa-photo-video"></i></span>
                        <span>My tokens</span>
                    </a>
                    <hr class="navbar-divider has-background-grey-lighter"/>
                    <a id="btnMenuMyCreatedTokens" class="navbar-item">
                        <span class="icon pr-2"><i class="fas fa-images"></i></span>
                        <span>My created tokens</span>
                    </a>
                    <a id="btnMenuMyCollections" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-solid fa-folder-open"></i></span>
                        <span>My collections</span>
                    </a>
                    <a id="btnMenuMyListings" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-solid fa-tags"></i></span>
                        <span>My listings</span>
                    </a>
                    <hr class="navbar-divider has-background-grey-lighter"/>
                    <a id="btnDisconnect" class="navbar-item">
                        <span class="icon"><i class="fas fa-arrow-right-from-bracket"></i></span>
                        <span>Disconnect</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
</nav>


<div id="content" class="container">


<div id="pageActiveTokens" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title">Active tokens</h2>
    </div>
    <div id="dActiveTokensLoader" class="my-3 is-flex is-justify-content-center"><span class="loader"/></div>

    <div id="dActiveTokens" class="grid-tokens">
    </div>

    <div id="dMoreActiveTokens" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreActiveTokens" class="button has-text-weight-semibold">... More tokens ...</button>
    </div>
</div>





<div id="pageCollections" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title">Collections</h2>
    </div>
    <div id="dCollectionsLoader" class="my-3 is-flex is-justify-content-center"><span class="loader"></span></div>

    <!--<div id="dCollections" class="is-flex is-flex-wrap-wrap is-justify-content-space-evenly" style="flex-basis: 250px; gap: 16px;">-->
    <div id="dCollections" class="grid-collections">
    </div>

    <div id="dMoreCollections" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreCollections" class="button has-text-weight-semibold">... More collections ...</button>
    </div>
</div>


<div id="pageCollectionData" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title m-0 js-mode-create">Create new collection</h2>
        <h2 class="title m-0 js-mode-edit">Edit collection</h2>
    </div>
    <div class="columns is-8">

    <div class="column">
        <div class="field">
            <label class="label">Name:</label>
            <div class="field-body">
                <input id="cName" class="input" type="text" size="50" placeholder="Collection name ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Description:</label>
            <div class="field-body">
                <textarea id="cDescription" class="textarea" placeholder="Description ..." rows="3"></textarea>
            </div>
        </div>
        <div class="field">
            <label for="cType" class="label">Category:</label>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="cType">
                        <option value="" selected=""></option>
                        <option value="art">Art</option>
                        <option value="collectible">Collectible</option>
                        <option value="other">Other</option>
                    </select>   
                </div>
            </div>
        </div>
        <div class="field">
            <label class="label">Authors:</label>
            <div class="field-body">
                <input id="cAuthors" class="input" type="text" placeholder="Author One, Author Two, ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Addresses:</label>
            <div class="field-body">
                <input id="cAddresses" class="input" type="text" placeholder="Author One address, Author Two address, ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
            <div class="field-label is-normal">
                <label class="label">Symbol:</label>
            </div>
            <div class="field-body">
                <input id="cSymbol" class="input" type="text" disabled="" placeholder="Symbol ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
            <div class="field-label is-normal">
                <label class="label">Interfaces:</label>
            </div>
            <div class="field-body">
                <input id="cInterfaces" class="input" type="text" disabled="" placeholder="Interfaces ..." value="TZIP-012, TZIP-016"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Creators:</label>
            <div class="field-body">
                <input id="cCreators" class="input" type="text" size="37" disabled="" placeholder="Creator One address, Creator Two address, ..."/>
            </div>
        </div>
    </div>

    <div class="column">
        <div class="field">
            <label class="label">Logo:</label>
            <div class="field is-horizontal mb-1 is-flex is-flex-wrap-nowrap">
                <div class="file has-name is-fullwidth mr-1" style="width: 100%">
                    <label class="file-label">
                        <input id="cFile" class="file-input" type="file" accept="image/*"/>
                        <span class="file-cta has-background-white">
                            <span class="file-icon"><i class="pl-3 fas fa-upload"></i></span>
                            <!--<span class="file-label">Choose a file ...</span>-->
                        </span>
                        <span id="cFileName" class="file-name">Choose a file ...</span>
                    </label>
                </div>
                <button id="cFileRemove" class="button has-text-weight-semibold" aria-label="Remove file"><i class="fa-regular fa-trash-can"></i></button>
            </div>
            <div class="field is-horizontal is-justify-content-center is-flex is-flex-wrap-nowrap">
                <span id="cFileSizeIcon" class="icon mr-2 pb-2 is-hidden"><i class="fa-solid fa-circle-exclamation"></i></span>
                <span id="cFileSize" class="is-size-7 mb-2">&nbsp;</span>
            </div>
        </div>
        <div class="media">
            <figure class="media-content is-flex is-justify-content-center">
                <p class="image is-256x256">
                    <!--<img id="cFileImage" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT"/>-->
                    <img id="cFileImage" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.classList.add('is-hidden')"/>
                </p>
            </figure>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <label class="checkbox is-size-7" disabled=""><input type="checkbox" checked="" disabled="" style="min-width: 32px;"/>Save logo on-chain</label>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <button id="btnCollectionDataCreate" class="button has-text-weight-semibold js-mode-create">Create</button>
            <button id="btnCollectionDataSave" class="button has-text-weight-semibold js-mode-edit">Save</button>
        </div>
    </div>

    </div>
</div>





<div id="pageListings" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title">Listings</h2>
    </div>
    <div id="dListingsLoader" class="my-3 is-flex is-justify-content-center"><span class="loader"></span></div>

    <div id="dListings" class="">
    </div>

    <div id="dMoreListings" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreListings" class="button has-text-weight-semibold">... More listings ...</button>
    </div>
</div>





<div id="pageSearch" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title">Search</h2>
    </div>
    <div class="tabs is-boxed pb-2">
        <ul>
            <li id="searchListTab" class="">
                <a id="searchListBtn" onclick='
                    document.getElementById("searchTokTab").classList.remove("is-active");
                    document.getElementById("dSearchToken").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.remove("is-active");
                    document.getElementById("dSearchCollection").classList.add("is-hidden");
                    document.getElementById("searchListTab").classList.add("is-active");
                    document.getElementById("dSearchListing").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Listings</span>
                </a>
            </li>
            <li id="searchTokTab" class="is-active">
                <a id="searchTokBtn" onclick='
                    document.getElementById("searchListTab").classList.remove("is-active");
                    document.getElementById("dSearchListing").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.remove("is-active");
                    document.getElementById("dSearchCollection").classList.add("is-hidden");
                    document.getElementById("searchTokTab").classList.add("is-active");
                    document.getElementById("dSearchToken").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Tokens</span>
                </a>
            </li>
            <li id="searchColTab" class="">
                <a id="searchColBtn" onclick='
                    document.getElementById("searchListTab").classList.remove("is-active");
                    document.getElementById("dSearchListing").classList.add("is-hidden");
                    document.getElementById("searchTokTab").classList.remove("is-active");
                    document.getElementById("dSearchToken").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.add("is-active");
                    document.getElementById("dSearchCollection").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Collections</span>
                </a>
            </li>
        </ul>
    </div>
    <div id="dSearchListing" class="is-hidden">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label for="searchListMinPrice" class="label">Min. price:</label>
            </div>
            <div class="field-body is-flex is-flex-wrap-nowrap">
                <input id="searchListMinPrice" class="input" type="number" min="0" style="width: 135px;"
                       onchange="this.value = parseFloat(this.value <= Number(this.getAttribute('min')) ?
                           '' : Math.round(this.value*10**6)/10**6)"/>
                <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label for="searchListMaxPrice" class="label">Max. price:</label>
            </div>
            <div class="field-body is-flex is-flex-wrap-nowrap">
                <input id="searchListMaxPrice" class="input" type="number" min="0" style="width: 135px;"
                       onchange="this.value = parseFloat(this.value <= Number(this.getAttribute('min')) ?
                           '' : Math.round(this.value*10**6)/10**6)"/>
                <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Address:</label>
            </div>
            <div class="field-body">
                <input id="searchListAddress" class="input" type="text" size="37" placeholder="Token or collection address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center is-hidden">
            <div class="field-label is-normal">
                <label class="label">Seller:</label>
            </div>
            <div class="field-body">
                <input id="searchListSeller" class="input" type="text" size="37" placeholder="Seller address ..."/>
            </div>
        </div>
    </div>
    <div id="dSearchToken" class="">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Name:</label>
            </div>
            <div class="field-body">
                <input id="searchTokName" class="input" type="text" size="40" placeholder="Token name ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Creator:</label>
            </div>
            <div class="field-body">
                <input id="searchTokCreators" class="input" type="text" size="37" placeholder="Creator address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Tag:</label>
            </div>
            <div class="field-body">
                <input id="searchTokTags" class="input" type="text" size="30" placeholder="Tag ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label for="searchTokType" class="label">Type:</label>
            </div>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="searchTokType">
                        <option value="" selected="">All Types</option>
                        <option value="image">Image</option>
                        <option value="image/png">&nbsp;PNG</option>
                        <option value="image/gif">&nbsp;GIF</option>
                        <option value="image/jp">&nbsp;JPEG</option>
                        <option value="image/svg">&nbsp;SVG</option>
                        <option value="audio">Audio</option>
                        <option value="video">Video</option>
                        <option value="text">Text</option>
                    </select>   
                </div>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Minter:</label>
            </div>
            <div class="field-body">
                <input id="searchTokMinter" class="input" type="text" size="37" placeholder="Minter address ..."/>
            </div>
        </div>
        <div class="is-hidden field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label checkbox">on-chain only:<input id="searchOnchainOnly" type="checkbox" checked="" style="min-width: 32px;"/></label>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
        </div>
    </div>
    <div id="dSearchCollection" class="is-hidden">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Address:</label>
            </div>
            <div class="field-body">
                <input id="searchColAddress" class="input" type="text" size="37" placeholder="Collection address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Creator:</label>
            </div>
            <div class="field-body">
                <input id="searchColCreator" class="input" type="text" size="37" placeholder="Creator address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
        </div>
    </div>
    <div class="buttons p-5 is-justify-content-center">
        <button id="btnSearch" class="button has-text-weight-semibold">Search</button>
    </div>
</div>





<div id="pageTokens" class="mt-5 p-3 is-hidden js-page">
    <div id="pageTokensCollection" class="level is-hidden">
        <article class="media" style="width: 100%">
            <figure class="media-left">
                <p class="image is-128x128">
                    <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%; border-radius: 5%;" alt="" src="" onerror="this.src=GRAY_RECT"/>
                </p>
            </figure>
            <div class="media-content">
                <span class="subtitle has-text-weight-semibold js-name"></span>
                <br/><span class="is-size-7 pt-2 pb-1 js-address copy-item"><span class="icon"><i class="fa-regular fa-copy"></i></span></span>
                <span class="is-hidden is-size-7 m-0 p-0 js-contract-version"></span>
                <textarea class="textarea is-small has-fixed-size mt-1 pl-0 js-description" rows="3" readonly="" style="width: 100%; border: none; box-shadow: none;"></textarea>
            </div>
            <div id="pageTokensCollectionButtons"  class="level-right is-hidden is-flex is-flex-direction-column">
                <button id="btnCollabs" class="button has-text-weight-semibold mb-3 is-small" style="width: 100%"><i class="mr-2 fa-solid fa-user-group"></i>Collab</button>
                <button id="btnEditCollection" class="button has-text-weight-semibold mb-3 is-small" style="width: 100%"><i class="mr-2 fa-solid fa-pen-to-square"></i>Edit</button>
                <button id="btnNewTokenCollection" class="button has-text-weight-semibold is-small is-hidden" style="width: 100%">Create NFT</button>
            </div>
        </article>
    </div>
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title">Tokens</h2>
    </div>
    <div id="dTokensLoader" class="my-3 is-flex is-justify-content-center"><span class="loader"></span></div>

    <div id="dTokens" class="grid-tokens">
    </div>

    <div id="dMoreTokens" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreTokens" class="button has-text-weight-semibold">... More tokens ...</button>
    </div>
</div>

<div id="mCollab" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Collaborators</p>
            <button id="bCollabClose" class="delete" onclick="document.getElementById('mCollab').classList.remove('is-active');" aria-label="Close"></button>
        </header>
        <div class="modal-card-body">
            <div class="field mr-0 mb-2 is-flex is-flex-wrap-nowrap">
                <input id="fieldCollabAddress" class="input mr-1" type="text" size="37" placeholder="Address ..."/>
                <button id="btnCollabAdd" class="button has-text-weight-semibold" aria-label="Add collaborator"><i class="fa-solid fa-plus"></i></button>
            </div>
            <div class="field mr-0 mb-2">
                <div class="field-label is-normal has-text-left">
                    <label class="label">Collaborators:</label>
                </div>
                <div class="select is-multiple" style="width: 100%">
                    <select id="mCollabCollaborators" multiple="" style="width: 100%; min-height: 9.5rem">
                    </select>
                </div>
            </div>
            <div class="level is-flex">
                <div class="level-left m-0">
                    <button id="btnCollabShare" class="button has-text-weight-semibold" aria-label="Share collab link"><i class="fa-solid fa-share-nodes"></i></button>
                </div>
                <div class="level-right m-0">
                    <button id="btnCollabRemove" class="button has-text-weight-semibold" aria-label="Remove collaborator"><i class="fa-regular fa-trash-can"></i></button>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnCollabSave" class="button has-text-weight-semibold" style="width: 50%">Save</button>
        </footer>
    </div>
</div>





<div id="pageTokenData" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5">
        <h2 class="title m-0 js-mode-create">Mint new on-chain NFT</h2>
        <h2 class="title m-0 js-mode-edit">Edit on-chain NFT</h2>
    </div>
    <fieldset id="pageTokenDataForm">
    <div class="columns">

    <div class="column">
        <div class="field">
            <label for="nftCollection" class="label">Collection:</label>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="nftCollection">
                        <option value="" selected=""></option>
                    </select>   
                </div>
            </div>
            <p class="help has-text-right">(*) - supports big media files</p>
        </div>
        <div class="field" style="margin-top: -1.5em">
            <label class="label">Name:</label>
            <div class="field-body">
                <input id="nftName" class="input" type="text" placeholder="Token name ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Description:</label>
            <div class="field-body">
                <textarea id="nftDescription" class="textarea" placeholder="Description ..." rows="3"></textarea>
            </div>
        </div>
        <div class="field">
            <label class="label">Tags:</label>
            <div class="field-body">
                <input id="nftTags" class="input" type="text" placeholder="tag1, tag2, tag3 ..."/>
            </div>
        </div>
        <div class="field">
            <label for="nftEditions" class="label">Editions:</label>
            <div class="field-body">
                <input id="nftEditions" class="input" type="number" min="1" max="10000" step="1" value="1"
                       onchange="this.value=parseFloat(this.value<1?1:(this.value>10000?10000:this.value)).toFixed(0)"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Creators:</label>
            <div class="field-body">
                <input id="nftCreators" class="input" type="text" size="37" placeholder="Creator One address, Creator Two address, ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Royalties:</label>
            <div class="field-body is-flex is-flex-wrap-wrap">
                <div class="field is-horizontal mr-0 mb-2 is-hidden is-flex is-flex-wrap-nowrap js-royalties-line-template" style="width: 100%">
                    <input class="input js-royalties-data-value" type="number" min="0.1" max="25" step="0.1" value="0.1" style="width: 145px;"
                        onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                    (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(1)"/>
                    <span class="ml-1 mr-3 pt-2 has-text-weight-semibold">%</span>
                    <input class="input mr-1 js-royalties-data-address" type="text" placeholder="Address ..."/>
                    <button class="button has-text-weight-semibold" onclick="this.parentNode.remove();" aria-label="Remove royalty"><i class="fa-regular fa-trash-can"></i></button>
                </div>
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap" style="width: 100%">
                    <button id="btnAddRoyaltyLine" class="button has-text-weight-semibold" aria-label="Add royalty"><i class="fa-solid fa-plus"></i></button>
                    <script>
                        const jsRoyaltiesLine = document.getElementById("pageTokenData").querySelector(".js-royalties-line-template");
                        const btnAddRoyaltyLine = document.getElementById("btnAddRoyaltyLine");
                        btnAddRoyaltyLine.onclick = () => {
                            let el = jsRoyaltiesLine.cloneNode(true);
                            el.classList.remove("is-hidden");
                            el.classList.remove("js-royalties-line-template");
                            el.classList.add("js-royalties-line-data");
                            jsRoyaltiesLine.before(el);
                        };
                    </script>
                    <span class="is-size-7 ml-5 pt-3">Total:&nbsp;25%</span>
                </div>
            </div>
        </div>
        <div class="field">
            <label class="label">Rights:</label>
            <div class="field-body">
                <input id="nftRights" class="input" type="text" size="40" placeholder="License ..." value="No License / All Rights Reserved"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Attributes:</label>
            <div class="field-body is-flex is-flex-wrap-wrap">
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap is-hidden js-attributes-line-template" style="width: 100%">
                    <input class="input mr-1 js-attributes-data-name" type="text" placeholder="Name ..."/>
                    <span class="mx-1 pt-2 has-text-weight-semibold">:</span>
                    <input class="input mr-1 js-attributes-data-value" type="text" placeholder="Value ..."/>
                    <button class="button has-text-weight-semibold" onclick="this.parentNode.remove();" aria-label="Remove attribute"><i class="fa-regular fa-trash-can"></i></button>
                </div>
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap" style="width: 100%">
                    <button id="btnAddAttributeLine" class="button has-text-weight-semibold" aria-label="Add attribute"><i class="fa-solid fa-plus"></i></button>
                    <script>
                        const jsAttributesLine = document.getElementById("pageTokenData").querySelector(".js-attributes-line-template");
                        const btnAddAttributeLine = document.getElementById("btnAddAttributeLine");
                        btnAddAttributeLine.onclick = () => {
                            let el = jsAttributesLine.cloneNode(true);
                            el.classList.remove("is-hidden");
                            el.classList.remove("js-attributes-line-template");
                            el.classList.add("js-attributes-line-data");
                            jsAttributesLine.before(el);
                        };
                    </script>
                </div>
            </div>
        </div>
        <div class="field is-hidden">
            <label class="label">Decimals:</label>
            <div class="field-body">
                <input id="nftDecimals" class="input" type="text" disabled="" value="0"/>
            </div>
        </div>
    </div>

    <div class="column">
        <div class="field">
            <label class="label">Media:</label>
            <div class="field is-horizontal mb-2 is-flex is-flex-wrap-nowrap">
                <div class="file has-name is-fullwidth mr-1" style="width: 100%">
                    <label class="file-label">
                        <input id="nftFile" class="file-input" type="file"/>
                        <span class="file-cta has-background-white">
                            <span class="file-icon"><i class="pl-3 fas fa-upload"></i></span>
                            <!--<span class="file-label">Choose a file ...</span>-->
                        </span>
                        <span id="nftFileName" class="file-name">Choose a file ...</span>
                    </label>
                </div>
                <button id="nftFileRemove" class="button has-text-weight-semibold" aria-label="Remove file"><i class="fa-regular fa-trash-can"></i></button>
            </div>
            <div class="field is-horizontal is-justify-content-center is-flex is-flex-wrap-nowrap">
                <span id="nftFileSizeIcon" class="icon mr-2 pb-2 is-hidden"><i class="fa-solid fa-triangle-exclamation"></i></span>
                <span id="nftFileSize" class="is-size-7 mb-2">&nbsp;</span>
            </div>
        </div>
        <div class="media">
            <figure class="media-content is-flex is-justify-content-center">
                <div id="nftPreviewContainer" class="image is-256x256">
                    <!--<img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT"/>-->
                    <img class="is-hidden js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.classList.add('is-hidden')"/>
                    <object class="is-hidden js-svg-template" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%; pointer-events: none;" type="image/svg+xml" aria-label="image" data=""></object>
                    <audio class="is-hidden mt-5 js-audio" controls style="width: 100%;"></audio>
                    <video class="is-hidden js-video" autoplay loop controls muted style="max-width: 256px; max-height: 256px;"></video>
                    <div class="is-hidden has-text-centered mt-5 js-text"><span class="icon is-large my-5"><i class="fa-solid fa-file-lines is-size-1"></i></span><br/>text file</div>
                    <div class="is-hidden has-text-centered mt-5 js-data"><span class="icon is-large my-5"><i class="fa-solid fa-file is-size-1"></i></span><br/>data file</div>
                </div>
            </figure>
        </div>
        <div class="field my-4 is-flex is-justify-content-center">
            <label class="checkbox is-size-7" disabled=""><input type="checkbox" checked="" disabled="" style="min-width: 32px;"/>Save media on-chain</label>
        </div>
        <div class="field">
            <label class="label is-hidden">MIME type:</label>
            <div class="field-body">
                <input id="nftType" class="input" type="text" placeholder="MIME type ..." disabled=""/>
            </div>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <button id="btnTokenDataCreate" class="button has-text-weight-semibold js-mode-create">Mint</button>
            <button id="btnTokenDataSave" class="button has-text-weight-semibold js-mode-edit" disabled="">Save</button>
        </div>
    </div>

    </div>
    </fieldset>
</div>


<div id="mCreateToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5 js-mode-create">Mint new on-chain NFT</p>
            <p class="modal-card-title ml-5 js-mode-edit">Update on-chain NFT</p>
            <button id="bCreateTokenClose" class="delete has-text-primary-dark" onclick="document.getElementById('mCreateToken').classList.remove('is-active');">x</button>
        </header>
        <div class="modal-card-body">
            <article class="media">
                <div class="media-left">
                    <div class="content pr-2 pt-5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none"><path stroke="currentColor" stroke-linejoin="round" stroke-width="4" d="M24 44a19.94 19.94 0 0 0 14.142-5.858A19.94 19.94 0 0 0 44 24a19.94 19.94 0 0 0-5.858-14.142A19.94 19.94 0 0 0 24 4A19.94 19.94 0 0 0 9.858 9.858A19.94 19.94 0 0 0 4 24a19.94 19.94 0 0 0 5.858 14.142A19.94 19.94 0 0 0 24 44Z"/><path fill="currentColor" fill-rule="evenodd" d="M24 37a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5" clip-rule="evenodd"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M24 12v16"/></g></svg>
                    </div>
                </div>
                <div class="media-content is-fullwidth">
                    <div class="content">
                        <p>The data is too big for one transaction. It will be uploaded to the blockchain in several parts. Please <b>accept each part one by one</b>.</p>
                        <p>On-chain storage can be costly, so please be sure your account has <b>enough XTZ</b> to cover fees and storage costs.</p>
                    </div>
                </div>
            </article>
            <div class="field is-horizontal is-justify-content-center">
                <progress id="prCreateTokenProgress" class="progress is-fullwidth is-link mt-5" max="100" value="0"/>
            </div>
            <div class="content has-text-centered">
                <p id="mCreateTokenInfo"></p>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnCreateTokenUpload" class="button has-text-weight-semibold" style="min-width: 50%;">
                <span class="js-mode-create">Mint</span>
                <span class="js-mode-edit">Update</span>
            </button>
        </footer>
    </div>
</div>    





<div id="pageToken" class="mt-5 p-3 is-hidden js-page">
    <div class="is-flex is-justify-content-center mb-5" >
        <h2 class="title">Token</h2>
    </div>
    <div id="dToken" class="columns">

    <div class="column">
        <div class="field">
            <p class="title is-size-4 is-spaced js-name"></p>
            <p class="js-description"></p>
        </div>
        <div class="field is-horizontal my-5">
            <!--<label class="label">Tags:</label>-->
            <div class="field-body">
                <span class="tags has-text-weight-semibold"><a class="tag has-background-white is-hidden" href="" style="border: 1px solid #b5b5b5;"></a></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Balance:</label>
            <div class="field-body">
                <span class="has-text-weight-semibold js-balance"></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Editions:</label>
            <div class="field-body">
                <span class="js-editions"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Creators:</label>
            <div class="field-body">
                <span class="js-creators">
                    <a class="is-hidden js-creator" href=""><span class="icon"><i class="fa-solid fa-user"></i></span></a>
                </span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Minted:</label>
            <div class="field-body">
                <span class="js-firsttime"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">MIME type:</label>
            <div class="field-body">
                <span class="js-type"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Collection:</label>
            <div class="field-body">
                <a class="js-contract" href=""><span class="icon mr-1"><i class="fas fa-photo-video"></i></span></a>
                <span class="is-size-7 ml-1 js-contract-copy copy-item"><span class="icon"><i class="fa-regular fa-copy"></i></span></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Token ID:</label>
            <div class="field-body">
                <span class="js-tokenid"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Rights:</label>
            <div class="field-body">
                <span class="js-rights"></span>
            </div>
        </div>
        <div class="field is-hidden js-royalties-section">
            <label class="label mr-3">Royalties:</label>
            <div class="field-body is-size-7">
                <span class="js-royalties-tags"></span>
            </div>
        </div>
        <div class="field is-hidden js-attribs-section">
            <label class="label mr-3">Attributes:</label>
            <div class="field-body">
                <span class="tags js-attribs"></span>
            </div>
        </div>
    </div>
    
    <div class="column is-flex is-flex-direction-column is-justify-content-flex-start" style="width: 100%;">
        <figure class="media-content is-flex is-justify-content-center is-align-items-center is-align-self-center"
                style="min-width: 256px; min-height: 256px; max-width: 512px; max-height: 512px; overflow: hidden; flex-grow: 0 !important;">
            <div class="is-hidden image is-flex is-justify-content-center is-align-items-center js-container-img"
                    style="/*width: 100%; */height: 100%; height: -webkit-fill-available;">
                <img class="js-img" src="" alt="" onerror="this.src=GRAY_RECT" style="display: block; width: 100%; height: 100%; object-fit: scale-down;"/>
                <object class="js-svg" type="image/svg+xml" aria-label="image" data="" onerror="this.data=GRAY_RECT"
                        style="object-fit: contain; width: 100%; height: 100%; min-height: 400px"></object>
            </div>
            <div class="is-hidden image is-flex is-align-items-center js-container-audio">
                <audio class="js-audio" controls></audio>
            </div>
            <div class="is-hidden image is-flex is-align-items-center js-container-video">
                <video class="js-video" autoplay loop controls muted></video>
            </div>
            <div class="is-hidden image has-text-centered js-container-text">
                <span class="icon is-large my-5"><i class="fa-solid fa-file-lines is-size-1"></i></span>
                <br/>text file
            </div>
            <div class="is-hidden image has-text-centered js-container-data">
                <span class="icon is-large my-5"><i class="fa-solid fa-file is-size-1"></i></span>
                <br/>data file
            </div>
        </figure>
    <div class="field my-5 is-flex is-justify-content-center is-flex-direction-column" style="width: 100%;">
        <div class="buttons is-justify-content-center">
            <button id="btnTokenFullscreen" class="button has-text-weight-semibold" title="Fullscreen" aria-label="Fullscreen" style="min-width: auto">
                <i class="fa-solid fa-expand"></i>
            </button>
            <button id="btnTokenBuy" class="button has-text-weight-semibold" disabled="" style="text-transform: lowercase;" aria-label="Buy">
                <i class="fa-solid fa-cart-shopping mr-2"></i>
            </button>
        </div>
        <div class="buttons is-justify-content-center">
            <button id="btnTokenEdit" class="button has-text-weight-semibold">Edit</button>
            <button id="btnTokenList" class="button has-text-weight-semibold">List</button>
            <button id="btnTokenBurn" class="button has-text-weight-semibold">Burn</button>
            <button id="btnTokenTransfer" class="button has-text-weight-semibold">Send</button>
        </div>
    </div>
    </div>

    </div>
</div>


<div id="mListToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">List</p>
            <button id="bListTokenClose" class="delete" onclick="document.getElementById('mListToken').classList.remove('is-active');" aria-label="Close"></button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">List:</label>
                </div>
                <div class="field-body">
                    <input id="mListTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Price:</label>
                </div>
                <div class="field-body is-flex is-flex-wrap-nowrap">
                    <input id="mListTokenPrice" class="input" type="number" min="0" value="0.0" style="width: 120px;"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ?
                               Number(this.getAttribute('min')) : Math.round(this.value*10**6)/10**6)"/>
                    <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Start time:</label>
                </div>
                <div class="field-body">
                    <input id="mListTokenStartTiime" class="input" type="datetime-local" style="width: auto;"/><sub class="ml-2 pt-2">(optional)</sub>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnListTokenList" class="button has-text-weight-semibold" style="min-width: 50%;">List</button>
        </footer>
    </div>
</div>    


<div id="mBurnToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Burn</p>
            <button id="bBurnTokenClose" class="delete" onclick="document.getElementById('mBurnToken').classList.remove('is-active');" aria-label="Close"></button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Amount to burn:</label>
                </div>
                <div class="field-body">
                    <input id="mBurnTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnBurnTokenBurn" class="button has-text-weight-semibold" style="width: 50%">Burn</button>
        </footer>
    </div>
</div>


<div id="mTransferToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Send</p>
            <button id="bTransferTokenClose" class="delete has-text-primary-dark" onclick="document.getElementById('mTransferToken').classList.remove('is-active');">x</button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Amount:</label>
                </div>
                <div class="field-body">
                    <input id="mTransferTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label is-flex">Send to:</label>
                </div>
                <div class="field-body">
                    <input id="mTransferTokenAddressTo" class="input" size="37" type="text" placeholder="Destination address..."/>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnTransferTokenTransfer" class="button has-text-weight-semibold" style="min-width: 50%;">Send</button>
        </footer>
    </div>
</div>    


<div id="mPurchase" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Purchase successful</p>
            <button id="bPurchaseClose" class="delete has-text-primary-dark" onclick="document.getElementById('mPurchase').classList.remove('is-active');">x</button>
        </header>
        <div class="modal-card-body">
            <article class="media">
                <figure class="media-left">
                    <p class="image is-128x128 has-text-centered">
                        <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT"/>
                    </p>
                </figure>
                <div class="media-content">
                    <div class="content">
                        <span class="is-size-5 has-text-weight-semibold js-name"></span>
                    </div>
                    <div class="content is-small">
                        <span class="js-creators">
                            <span class="is-hidden js-creator"><i class="fa-solid fa-user pr-1"></i></span>
                        </span>
                    </div>
                </div>
            </article>
        </div>
        <footer class="modal-card-foot mt-0 pt-0 is-justify-content-center" style="flex-direction: column; text-transform: none;">
            <div class="" style="width: 100%">
                <label class="label mb-1">Share with the community:</label>
                <div class="field-body">
                    <textarea class="textarea" rows="2">I have collected "${name}" via zeroterminal.art</textarea>
                </div>
            </div>
            <div class="buttons mt-3">
                <a id="btnPurchaseTwitter" class="button has-text-weight-semibold" aria-label="Twitter" target="_blank"
                   href="https://x.com/intent/tweet?text=${text}%20${link}"><i class="fa-brands fa-lg fa-x-twitter"></i></a>
                <a id="btnPurchaseWarpcast" class="button" aria-label="Warpcast" target="_blank"
                   href="https://warpcast.com/~/compose?text=${text}%26embeds[]=${link}">
                    <span class="has-text-weight-bold is-size-5">W</span></a>
                <a id="btnPurchaseWhatsapp" class="button has-text-weight-semibold" aria-label="Whatsapp" target="_blank"
                   href="https://wa.me/?text=${text}%20${link}"><i class="fa-brands fa-lg fa-whatsapp"></i></a>
                <a id="btnPurchaseTelegram" class="button has-text-weight-semibold" aria-label="Telegram" target="_blank"
                   href="https://t.me/share/url?text=${text}%20${link}"><i class="fa-regular fa-paper-plane"></i></a>
            </div>
        </footer>
    </div>
</div>    





<div id="pageInfo" class="mt-5 p-3 is-hidden js-page">
    <div class="level px-1">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Info</h2>
        </div>
        <div class="level-right">
            <a class="has-text-black-bis" href="https://x.com/tz1zeroteminal" target="_blank" aria-label="Twitter">
                <span class="icon mr-5 is-size-5"><i class="fa-brands fa-x-twitter"></i></span>
            </a>
            <a class="has-text-black-bis" href="https://github.com/opdev3/nftez" target="_blank" aria-label="GitHub">
                <span class="icon is-size-5"><i class="fa-brands fa-github"></i></span>
            </a>
        </div>
    </div>
    <div class="is-fullwidth">
    
    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>What is ZeroTerminal?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>It is a decentralized app allowing you to interact with Tezos blockchain data. For now it is aimed mostly for onchain art. This terminal eliminates any 3rd party between a user and the Tezos blockchain.</p>
                <br/>
                <p>We got two versions available for you. One is deployed on the website, another you can download and open and run on your computer. The latter just allows you not to rely on our servers. Use Testnet-Mainnet selector to choose active network you want to work with.</p>
            </div>
        </div>
    </article>
    
    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>What I can do with it?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>You can mint/list/buy/search/burn/transfer any artwork you want to see being inscribed into Tezos blockchain.</p>
            </div>
        </div>
    </article>

    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>How can I get the standalone version?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>Just save this page with the "Web Page, HTML only" option and you can run it locally on your device.</p>
            </div>
        </div>
    </article>

    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>I got a question or suggestion!</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>Well, you can reach me out there <a href="mailto:ccubetez@proton.me">ccubetez@proton.me</a></p>
            </div>
        </div>
    </article>

    </div>
    <footer class="footer px-1 has-background-white">
        <div class="level">
            <div class="level-item is-justify-content-center">
                <span class="is-size-7 has-text-black-bis">Data provided by <a href="https://tzkt.io/">TzKT</a> API</span>
            </div>
            <div class="level-right">
                <span id="appVersion" class="is-size-7"></span>
            </div>
        </div>
    </footer>
</div>


</div>





<template id="t-collection">
<div class="card my-3" style="min-width: 350px; max-width: 550px;">
    <div class="card-content p-3">
        <div class="media is-relative">
            <figure class="media-left">
                <a class="js-collection-item" href="" aria-label="collection">
                    <p class="image is-128x128">
                        <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT"/>
                    </p>
                </a>
            </figure>
            <div class="media-content is-fullwidth">
                <a class="js-collection-item" href=""><span class="subtitle has-text-weight-semibold js-name"></span></a>
                <br/><span class="is-size-7 pt-2 pb-1 js-address copy-item"><span class="icon"><i class="fa-regular fa-copy"></i></span></span>
                <p class="is-hidden js-description"></p>
            </div>
            <p class="is-size-7 is-pulled-right" style="position: absolute; bottom: 0; right: 0;">Items: <span class="has-text-weight-semibold js-count"></span></p>
        </div>
    </div>
</div>
</template>


<template id="t-token">
<div class="card my-3" style="min-width: 256px; max-width: 256px;">
    <div class="card-image is-256x256">
        <a class="js-token-item" href="" aria-label="token">
            <img class="js-img is-hidden" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT">
            <span class="icon is-large m-3 is-hidden js-audio"><i class="fa-solid fa-music is-size-1"></i> </span>
            <span class="icon is-large m-3 is-hidden js-video"><i class="fa-solid fa-film is-size-1"></i> </span>
            <span class="icon is-large m-3 is-hidden js-text"><i class="fa-solid fa-file-lines is-size-1"></i> </span>
            <span class="icon is-large m-3 is-hidden js-data"><i class="fa-solid fa-file is-size-1"></i> </span>
        </a>
    </div>
    <div class="card-content px-3 pt-3 pb-2">
        <div class="is-flex is-flex-direction-column">
            <a class="js-token-item" href=""><span class="has-text-weight-semibold overflow-ellipsis js-name"></span></a>
            <span class="is-size-7 my-2 is-flex is-flex-wrap-nowrap is-hidden js-creator" style="white-space: nowrap;">
                <a class="overflow-ellipsis js-creator-link"><i class="fa-solid fa-user pr-1"></i></a>
                <span class="is-flex is-flex-wrap-nowrap js-creators">,<a class="overflow-ellipsis js-token-item js-creators-link"><i class="fa-solid fa-user-group p-1"></i></a></span>
            </span>
            <div>
                <span class="is-hidden"><span class="has-text-weight-semibold js-price"></span>&nbsp;&#42793;</span>
                <span class="is-size-7 pt-1 is-pulled-right">Editions:&nbsp;<span class="has-text-weight-semibold js-count"></span></span>
            </div>
        </div>
    </div>
</div>
</template>

    
<template id="t-listing">
<div class="py-3 m-0 js-listing" style="border-top: 2px solid #f5f5f5;">
    <article class="media">
        <figure class="media-left">
            <a class="js-token-item" href="" aria-label="token">
                <p class="image is-128x128 has-text-centered">
                    <img class="js-img is-hidden" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" alt="" src="" onerror="this.src=GRAY_RECT"/>
                    <span class="icon is-large mt-2 is-hidden js-audio"><i class="fa-solid fa-music is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-video"><i class="fa-solid fa-film is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-text"><i class="fa-solid fa-file-lines is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-data"><i class="fa-solid fa-file is-size-1"></i></span>
                </p>
            </a>
        </figure>
        <div class="media-content">
            <div class="content">
                <a class="js-token-item" href=""><span class="has-text-weight-semibold js-name"></span></a>
            </div>
            <div class="content is-small">
                <span class="js-creators">
                    <a class="is-hidden js-creator"><i class="fa-solid fa-user pr-1"></i></a>
                </span>
            </div>
            <div class="content is-small">
                <span class="js-start-time"></span> - <span class="js-expiry-time"></span>
            </div>
            <div class="content">
                <span class="mr-5"><span class="has-text-weight-semibold js-price"></span>&nbsp;&#42793;</span>
                <span class="is-size-7">x</span><span class="js-amount"></span>
            </div>
        </div>
        <div class="media-right pt-5">
            <button class="button has-text-weight-semibold js-btn-cancel-offer" aria-label="Remove listing"><i class="fa-regular fa-trash-can"></i></button>
            <button class="button has-text-weight-semibold js-btn-buy"><i class="fa-solid fa-cart-shopping mr-2"></i>Buy</button>
        </div>
    </article>
</div>
</template>



<!--<script type="module" src="./_index.js">-->
<script>
var LT;(()=>{"use strict";function e(e){return Array.from((new TextEncoder).encode(e),(e=>e.toString(16).padStart(2,"0"))).join("")}function t(e){return e&&e.length>14?e.substring(0,5)+"..."+e.substring(e.length-5):e}function r(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).then((function(){}),(function(e){return!1})),!0;let t=!1;var r=document.createElement("textarea");r.value=e,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),t=!0}catch(e){}return document.body.removeChild(r),t}function i(e){return/^(tz|KT)[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{34}$/.test(String(e))}function a(e,t){let r=e.substring(0,2);return r!==t.substring(0,2)?"tz"===r?-1:1:e>t?1:e<t?-1:0}function s(){try{return(new Error).stack.split("\n")[2].replace(/^\s+at\s+(.+?)\s.+/g,"$1")}catch(e){return""}}const n=window.location,o=!n.protocol.startsWith("http"),m=o||(n.host+n.pathname).indexOf("testnet")<0&&(n.host+n.pathname).indexOf("ghostnet")<0,l=m?"mainnet":"ghostnet",d=m?"KT1Q4Dc6UkQP4ncBPkJYkHRFc1heopuD1tqX":"KT1UhuDXQ8jAWkaR1BLNaARbrhXwdr7LotPZ",c=m?"KT1KyPvhak54X3yiozebqhPhnqrtWNTiaWm1":"KT1TRuN4Uc4ai6ZjWRjtedX9ChmfcfvxfBXt",p=[-2032598074],g=[-1665803695],u=p.join()+","+g.join()+","+[-1835576114].join()+","+[862045731,-1513923773,-1889653220,-543526052,943737041].join();function y(e){return-1275828732===e||p.includes(e)||g.includes(e)}function E(e){return p.includes(e)}const I=m?"KT1CB4MYiAViCuXWBU961x7LjQXGeA8SnQwt":"KT1Cn7CvFueX5ozjUx14BZeN6RxGzED2uR2x",f='{"code":[{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%administrator"]},{"prim":"nat","annots":["%all_tokens"]}]},{"prim":"pair","args":[{"prim":"set","args":[{"prim":"address"}],"annots":["%collaborators"]},{"prim":"pair","args":[{"prim":"string","annots":["%contract_id"]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}],"annots":["%ledger"]}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"address"}],"annots":["%minters"]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}]},{"prim":"unit"}],"annots":["%operators"]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%token_info"]}]}],"annots":["%token_metadata"]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}],"annots":["%total_supply"]}]}]}]}]}]},{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"set","args":[{"prim":"address"}],"annots":["%add_collaborators"]},{"prim":"pair","args":[{"prim":"string","annots":["%k"]},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"bytes","annots":["%v"]}]}],"annots":["%append_token_metadata"]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%requests"]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%request"]},{"prim":"nat","annots":["%balance"]}]}]}],"annots":["%callback"]}],"annots":["%balance_of"]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%burn"]},{"prim":"pair","args":[{"prim":"address","annots":["%address"]},{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"or","args":[{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%new"]},{"prim":"nat","annots":["%old"]}],"annots":["%token"]}]}],"annots":["%mint"]}]}]}]},{"prim":"or","args":[{"prim":"or","args":[{"prim":"set","args":[{"prim":"address"}],"annots":["%remove_collaborators"]},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%from_"]},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%to_"]},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"nat","annots":["%amount"]}]}]}],"annots":["%txs"]}]}],"annots":["%transfer"]}]},{"prim":"or","args":[{"prim":"bytes","annots":["%update_contract_metadata"]},{"prim":"or","args":[{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%add_operator"]},{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%remove_operator"]}]}],"annots":["%update_operators"]},{"prim":"pair","args":[{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%update_token_metadata"]}]}]}]}]}]},{"prim":"code","args":[[{"prim":"CAST","args":[{"prim":"pair","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"set","args":[{"prim":"address"}]},{"prim":"pair","args":[{"prim":"string"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"bytes"}]}]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]},{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"or","args":[{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]},{"prim":"nat"}]}]}]}]}]}]},{"prim":"or","args":[{"prim":"or","args":[{"prim":"set","args":[{"prim":"address"}]},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]}]},{"prim":"or","args":[{"prim":"bytes"},{"prim":"or","args":[{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]}]}]},{"prim":"pair","args":[{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]},{"prim":"nat"}]}]}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"pair","args":[{"prim":"set","args":[{"prim":"address"}]},{"prim":"pair","args":[{"prim":"string"},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"address"}]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"unit"}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]}]}]},{"prim":"UNPAIR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"UPDATE"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"}]]},{"prim":"DROP"}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN_OR_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"}],[]]},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"543"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SIZE"},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"545"}]},{"prim":"FAILWITH"}],[]]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"MEM"}],[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"False"}]}]]},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"546"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"546"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"CONCAT"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"2"}]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"7"}]}],[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"548"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"2"}]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"7"}]}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"CAR"},{"prim":"MAP","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"437"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SWAP"},{"prim":"PAIR"}],[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"SWAP"},{"prim":"PAIR"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"8"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"612"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"612"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"8"}]},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"613"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"7"}]},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"7"}]}],[{"prim":"DROP"}]]}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN_OR_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"8"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"9"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"7"}]},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"8"}]},{"prim":"DUP"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"DUP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"SENDER"},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"}]]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"1"}]},{"prim":"ADD"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"PAIR"}],[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"}],[]]},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"589"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"591"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"ADD"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"8"}]},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"8"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"594"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"ADD"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}],[{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}]]}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"False"}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"UPDATE"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"}]]},{"prim":"DROP"}],[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"ITER","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"417"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"421"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"421"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"8"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"10"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"421"}]},{"prim":"FAILWITH"}],[{"prim":"DROP"}]]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"8"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"424"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"ADD"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}],[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DIG","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}]]}],[{"prim":"DROP"}]]}]]},{"prim":"DROP"}]]},{"prim":"DROP"}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CDR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"SOME"},{"prim":"PUSH","args":[{"prim":"string"},{"string":"content"}]},{"prim":"UPDATE"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"IF_LEFT","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"PUSH","args":[{"prim":"option","args":[{"prim":"unit"}]},{"prim":"Some","args":[{"prim":"Unit"}]}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]},{"prim":"SWAP"}],[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"NONE","args":[{"prim":"unit"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]},{"prim":"SWAP"}]]}]]},{"prim":"DROP"}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN_OR_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"CAR"}],[]]},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"8"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"558"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"560"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"ITER","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"SIZE"},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"2"}]}],[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"CDR"},{"prim":"NONE","args":[{"prim":"bytes"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"2"}]}]]}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"7"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"7"}]}]]}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]},{"prim":"PAIR"}]]}],"storage":{"prim":"Pair","args":[{"prim":"Pair","args":[{"prim":"Pair","args":[{"string":"${user_address}"},{"int":"0"}]},{"prim":"Pair","args":[[],{"prim":"Pair","args":[{"string":"ProgressiveZeroContract"},[]]}]}]},{"prim":"Pair","args":[{"prim":"Pair","args":[[{"prim":"Elt","args":[{"string":""},{"bytes":"74657a6f732d73746f726167653a636f6e74656e74"}]},{"prim":"Elt","args":[{"string":"content"},{"bytes":"${metadata_content}"}]}],[]]},{"prim":"Pair","args":[[],{"prim":"Pair","args":[[],[]]}]}]}]}}',A="ZeroTerminal",T=20480;let h,v="";async function P(e){try{let t=await fetch("https://api."+l+".tzkt.io/v1/operations/transactions/"+e+"/status");if(t.ok){const e=await t.text();if(e)return JSON.parse(e)}else console.log("ERROR "+s()+"(): can't get status for "+e)}catch(e){console.log("ERRROR "+s()+"(): "+e+" "+JSON.stringify(e))}return null}async function S(e){let t="sort.desc=lastActivity&select=address,creator,tokensCount,firstActivityTime,typeHash&typeHash"+(u.indexOf(",")>=0?".in":"")+"="+u+(e.address||v&&v===e.creator?"":"&tokensCount.gt=0")+(e.address?"&address="+e.address:"")+(e.creator?"&creator="+e.creator:"")+(e.limit?"&limit="+e.limit:"")+(e.offset?"&offset="+e.offset:"");try{let e=await fetch("https://api."+l+".tzkt.io/v1/contracts?"+t);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get collections")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function R(e){let t="includeStorage=true&address="+e;try{let e=await fetch("https://api."+l+".tzkt.io/v1/contracts?"+t);if(e.ok){let t=await e.json();return t&&t.length>0?t[0]:t}console.log("ERROR "+s()+"(): can't get collection")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function b(e){try{let t=await fetch("https://api."+l+".tzkt.io/v1/contracts/"+e+"/bigmaps/metadata/keys?key=content&select=value");if(t.ok){let e=await t.json();if(Array.isArray(e)&&e.length>0)try{return JSON.parse(function(e){const t=new Uint8Array(e.length/2);for(let r=0;r!==t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return(new TextDecoder).decode(t)}(e[0]))}catch(e){}else console.log("ERROR "+s()+"(): there is no collection metadata")}else console.log("ERROR "+s()+"(): can't get collection metadata")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function D(e,t){let r="sort.desc=id&active=true&select=key,value"+(e?"&value.token.address="+e:"")+(t?"&value.token.id="+t:"");try{let e=await fetch("https://api."+l+".tzkt.io/v1/contracts/"+c+"/bigmaps/offers/keys?"+r);if(e.ok){let t=await e.json();if(t&&t.length>0){let e=null,r=null;for(let i of t)i.value.seller!==v?e?Number(e.value.price)>=Number(i.value.price)&&(e=i):e=i:r?Number(r.value.price)>=Number(i.value.price)&&(r=i):r=i;return e||r}}else console.log("ERROR "+s()+"(): can't get best offer")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function U(e){let t="sort.desc=id&select=contract,tokenId,totalSupply,firstMinter,metadata&totalSupply.gt=0&standard=fa2"+(I?"&contract.ni="+I:"")+(e.limit?"&limit="+e.limit:"")+(e.offset?"&offset="+e.offset:"")+(e.contract?"&contract.in="+e.contract:"")+(e.tokenId?"&tokenId="+e.tokenId:"")+(e.minter?"&firstMinter="+e.minter:"")+(e.name?"&metadata.name="+encodeURIComponent(e.name):"")+(e.onchain?"&metadata.artifactUri.as=data:"+(e.type?e.type:"")+"*":"&metadata.artifactUri.null=false");if(Array.isArray(e.creators)&&e.creators.length>0&&(t+="&metadata.creators.[*]"+(1===e.creators.length?"=":".in=")+e.creators.join()),Array.isArray(e.tags)&&e.tags.length>0){t+="&metadata.tags.[*]"+(1===e.tags.length?"=":".in=");for(let r=0;r<e.tags.length;r++)r>0&&(t+=","),t+=encodeURIComponent(e.tags[r])}try{let e=await fetch("https://api."+l+".tzkt.io/v1/tokens?"+t);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function L(e,t){let r="limit=1&select=account.address as account,token,balance,firstTime&token.contract="+e+"&token.tokenid="+t;try{let e=await fetch("https://api."+l+".tzkt.io/v1/tokens/balances?"+r+"&account="+v);if(e.ok){let t=await e.json();if(t.length>0)return t[0];{let e=await fetch("https://api."+l+".tzkt.io/v1/tokens/balances?"+r);if(e.ok){if(t=await e.json(),t.length>0)return t[0].account=v,t[0].balance=0,t[0]}else console.log("ERROR "+s()+"(): can't get token")}}else console.log("ERROR "+s()+"(): can't get token balance")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function k(t,r,i){let a="";if(r instanceof Map){if((r=new Map([...r].sort())).size>0){let t=!0;for(let[i,s]of r)t?t=!1:a+=",",a+='{"prim":"Elt","args":[{"string":"'+i+'"},{"bytes":"'+e("string"==typeof s||s instanceof String?s:JSON.stringify(s))+'"}]}'}}else a=Number(r);let n=null,o=[],m='{"string":"'+v+'"}',d='{"int":"'+i+'"}',c=isNaN(a)?"["+a+"]":'{"int":"'+a+'"}';try{let e=await fetch("https://api."+l+".tzkt.io/v1/contracts/"+t+"/entrypoints/mint"),i=(await e.json()).jsonParameters["schema:object"];for(let e in i)if(e.endsWith(":address"))o.push(m);else if(e.endsWith(":nat"))o.push(d);else if(e.endsWith(":map_flat:string:bytes"))o.push(c);else if(e.endsWith(":or")){let t=0;for(let s in i[e]){if(!isNaN(a)&&s.endsWith(":nat")||r instanceof Map&&s.endsWith(":map_flat:string:bytes")){o.push(0===t?"Left":"Right");break}t++}o.push(c)}2===o.length?n='{"prim":"Pair","args":[${0},${1}]}':3===o.length?n='{"prim":"Pair","args":[${0},{"prim":"Pair","args":[${1},${2}]}]}':4===o.length&&(n='{"prim":"Pair","args":[${0},{"prim":"Pair","args":[${1},{"prim":"${2}","args":[${3}]}]}]}');for(let e=0;e<o.length;e++)n=n.replace("${"+e+"}",o[e])}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}return{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"mint",value:JSON.parse(n)}}}async function N(e,t,r){try{let i=await k(e,t,r),a=await h.requestOperation({operationDetails:[i]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}async function B(e,t,r){let i='{"prim":"Pair","args":[{"int":"'+r+'"},{"int":"'+t+'"}]}';try{let r=await fetch("https://api."+l+".tzkt.io/v1/contracts/"+e+"/entrypoints/burn?json=false&michelson=true");(await r.json()).michelsonParameters.startsWith("pair")||(i='{"int":"'+t+'"}')}catch(e){}return{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"burn",value:JSON.parse(i)}}}async function C(t,r,i,a){let n=[];if(i&&i.size>0&&n.push(await async function(t,r,i){let a="";if((i=new Map([...i].sort())).size>0){let t=!0;for(let[r,s]of i)t?t=!1:a+=",",a+='{"prim":"Elt","args":[{"string":"'+r+'"},{"bytes":"'+e("string"==typeof s||s instanceof String?s:JSON.stringify(s))+'"}]}'}return{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"update_token_metadata",value:JSON.parse('{"prim":"Pair","args":[['+a+'],{"int":"'+r+'"}]}')}}}(t,r,i)),a<0?n.push(await B(t,r,Math.abs(a))):a>0&&n.push(await k(t,r,a)),n.length>0)try{let e=await h.requestOperation({operationDetails:n});if(e.transactionHash)return e.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}const w={message:"The address is copied",type:"is-success"};var O,j,F,q=0,M=0,W="",H="";async function _(){document.getElementById("btnMoreActiveTokens").classList.add("is-loading");let e=document.getElementById("dActiveTokens"),t=0,r=new URLSearchParams(window.location.search),i=await async function(e){let t="sort.desc=lastLevel&select=contract,tokenId,totalSupply,firstMinter,metadata&totalSupply.gt=0&standard=fa2"+(I?"&contract.ni="+I:"")+(e.limit?"&limit="+e.limit:"")+(e.offset?"&offset="+e.offset:"")+(e.onchain?"&metadata.artifactUri.as=data:"+(e.type?e.type:"")+"*":"&metadata.artifactUri.null=false");try{let e=await fetch("https://api."+l+".tzkt.io/v1/tokens?"+t);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}({limit:20,offset:M,type:"image",onchain:"false"!==r.get("onchain")});if(document.getElementById("dActiveTokensLoader").classList.add("is-hidden"),Array.isArray(i)){for(let r of i){t++;let i=r.token?r.token:r,a=await z(i);a&&e.append(a)}t<20?document.getElementById("dMoreActiveTokens").classList.add("is-hidden"):document.getElementById("dMoreActiveTokens").classList.remove("is-hidden"),document.getElementById("btnMoreActiveTokens").classList.remove("is-loading"),0===(M+=t)&&(e.textContent="There are no tokens matching these criteria.")}else oe()}async function G(){document.getElementById("btnMoreCollections").classList.add("is-loading");let e=document.getElementById("dCollections"),i=0,a=new URLSearchParams(window.location.search),s=a.get("cid"),n=a.get("creator"),o=await S({creator:n,address:s,limit:15,offset:q});if(document.getElementById("dCollectionsLoader").classList.add("is-hidden"),Array.isArray(o)){for(let a of o){i++;let s=await b(a.address);if(!s)continue;const n=document.getElementById("t-collection").content.cloneNode(!0);let o=s?.imageUri;if(o){try{new URL(o),o=o.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}n.querySelector(".js-img").setAttribute("src",o)}n.querySelector(".js-name").innerText=s?.name,n.querySelector(".js-description").innerText=s?.description,n.querySelector(".js-address").prepend(document.createTextNode(t(a.address))),n.querySelector(".copy-item").addEventListener("click",(()=>{a.address&&r(a.address)&&bulmaToast.toast(w)})),n.querySelector(".js-count").innerText=a.tokensCount,n.querySelectorAll(".js-collection-item").forEach((function(e){e.setAttribute("href",window.location.pathname+"?cmd=tokens&cid="+a.address)})),e.append(n)}i<15?document.getElementById("dMoreCollections").classList.add("is-hidden"):document.getElementById("dMoreCollections").classList.remove("is-hidden"),document.getElementById("btnMoreCollections").classList.remove("is-loading"),0===(q+=i)&&(e.textContent="There are no collections matching these criteria.")}else oe()}async function x(){document.getElementById("btnMoreTokens").classList.add("is-loading");let e,t=document.getElementById("dTokens"),r=0,i=new URLSearchParams(window.location.search);if(e=i.get("account")?await async function(e){let t="sort.desc=id&select=account,token,balance&balance.gt=0&token.standard=fa2"+(e.account?"&account="+e.account:"")+(e.limit?"&limit="+e.limit:"")+(e.offset?"&offset="+e.offset:"")+(e.onchain?"&token.metadata.artifactUri.as=data:*":"&token.metadata.artifactUri.null=false");try{let e=await fetch("https://api."+l+".tzkt.io/v1/tokens/balances?"+t);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}({account:i.get("account"),limit:20,offset:M,onchain:"false"!==i.get("onchain")}):await U({limit:20,offset:M,contract:i.get("cid"),name:i.get("name"),creators:i.getAll("creator"),tags:i.getAll("tag"),type:i.has("type")?i.get("type"):"image",minter:i.get("minter"),onchain:"false"!==i.get("onchain")}),document.getElementById("dTokensLoader").classList.add("is-hidden"),Array.isArray(e)){for(let i of e){r++;let e=i.token?i.token:i,a=await z(e);a&&t.append(a)}r<20?document.getElementById("dMoreTokens").classList.add("is-hidden"):document.getElementById("dMoreTokens").classList.remove("is-hidden"),document.getElementById("btnMoreTokens").classList.remove("is-loading"),0===(M+=r)&&(t.textContent="There are no tokens matching these criteria.")}else oe()}async function z(e){let r;const i=document.getElementById("t-token").content.cloneNode(!0);let a=i.querySelector(".js-price");new Promise((t=>{setTimeout((()=>{t(Promise.all([D(e.contract.address,e.tokenId),a]))}),110)})).then((e=>{e[0]&&(e[1].innerText=(parseFloat(e[0].value.price)/1e6).toFixed(2),e[1].parentNode.classList.remove("is-hidden"))}));let s=e.metadata?.name;r=i.querySelector(".js-name"),r.innerText=s||"";let n=e.firstMinter?.address,o=e.firstMinter?.alias;s=e.metadata?.creators;let m=i.querySelector(".js-creator");if(Array.isArray(s)&&s.length>0){let e=n&&s.includes(n)?n:s[0],r=e!==n?t(s[0]):o||t(n),a=i.querySelector(".js-creators");s.length>1?a.querySelector(".js-creators-link").append(document.createTextNode("+"+(s.length-1)+"...")):a.remove(),m.querySelector(".js-creator-link").append(document.createTextNode(r)),m.querySelector(".js-creator-link").setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+e),m.classList.remove("is-hidden")}else m.remove();if(s=e.totalSupply,r=i.querySelector(".js-count"),r.innerText=s||"",s=e.metadata?.thumbnailUri?e.metadata?.thumbnailUri:e.metadata?.displayUri?e.metadata?.displayUri:e.metadata?.artifactUri,s){try{new URL(s),s=s.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let t=se(s);t||(t=e.metadata?.mimeType),t?t.startsWith("image")?(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",s),i.querySelector(".js-img").classList.remove("is-hidden")):t.startsWith("audio")?(i.querySelector(".js-img").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-audio").setAttribute("src",s),i.querySelector(".js-audio").classList.remove("is-hidden")):t.startsWith("video")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-video").setAttribute("src",s),i.querySelector(".js-video").classList.remove("is-hidden")):t.startsWith("text")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-text").classList.remove("is-hidden")):(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").classList.remove("is-hidden")):(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",s),i.querySelector(".js-img").classList.remove("is-hidden"))}return i.querySelectorAll(".js-token-item").forEach((function(t){t.setAttribute("href",window.location.pathname+"?cmd=token&cid="+e.contract.address+"&tid="+e.tokenId)})),i}async function J(){let e=document.getElementById("dListings"),t=new URLSearchParams(window.location.search),r=t.get("seller"),i=t.get("minprice"),a=t.get("maxprice"),n=t.get("cid"),o=t.get("tid");document.getElementById("btnMoreListings").classList.add("is-loading");let m=0,d=await async function(e,t,r,i,a,n,o){let m="sort.desc=id&active=true&select=key,value&limit=15"+(o?"&offset="+o:"")+(e?"&value.seller="+e:"")+(t?"&value.price.ge="+t:"")+(r?"&value.price.le="+r:"")+(i?"&value.token.address="+i:"")+(a?"&value.token.id="+a:"");try{let e=await fetch("https://api."+l+".tzkt.io/v1/contracts/"+c+"/bigmaps/offers/keys?"+m);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get offers")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(r,i,a,n,o,0,M);if(document.getElementById("dListingsLoader").classList.add("is-hidden"),Array.isArray(d)){for(let t of d){m++;let r=await Q(t);r&&e.append(r)}m<15?document.getElementById("dMoreListings").classList.add("is-hidden"):document.getElementById("dMoreListings").classList.remove("is-hidden"),document.getElementById("btnMoreListings").classList.remove("is-loading"),0===(M+=m)&&(e.textContent="There are no listings matching these criteria.")}else oe()}async function Q(e){let r,i=(await L(e.value.token.address,e.value.token.id))?.token;if(!i)return null;const a=document.getElementById("t-listing").content.cloneNode(!0);let n=i.metadata?.name;r=a.querySelector(".js-name"),r.innerText=n||"";let o=a.querySelector(".js-creators"),m=a.querySelector(".js-creator");if(n=i.metadata?.creators,Array.isArray(n)&&n.length>0)for(let e=0;e<n.length;e++)r=m.cloneNode(!0),r.setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+n[e]),r.append(document.createTextNode(t(n[e]))),e>0&&o.append(document.createTextNode(", ")),r.classList.remove("is-hidden"),o.append(r);else a.querySelector(".js-creators").innerText="";if(m.remove(),n=new Date(Date.parse(e.value.time_start)).toLocaleString(),r=a.querySelector(".js-start-time"),r.innerText=n||"",n=e.value.time_expiry?new Date(Date.parse(e.value.time_expiry))?.toLocaleString():"...",r=a.querySelector(".js-expiry-time"),r.innerText=n||"",n=e.value.amount,r=a.querySelector(".js-amount"),r.innerText=n||"",n=(parseFloat(e.value.price)/1e6).toFixed(2),r=a.querySelector(".js-price"),r.innerText=n||"",n=i.metadata?.thumbnailUri?i.metadata?.thumbnailUri:i.metadata?.displayUri?i.metadata?.displayUri:i.metadata?.artifactUri,n){try{new URL(n),n=n.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let e=se(n);e||(e=i.metadata?.mimeType),e?e.startsWith("image")?(a.querySelector(".js-audio").remove(),a.querySelector(".js-video").remove(),a.querySelector(".js-text").remove(),a.querySelector(".js-data").remove(),a.querySelector(".js-img").setAttribute("src",n),a.querySelector(".js-img").classList.remove("is-hidden")):e.startsWith("audio")?(a.querySelector(".js-img").remove(),a.querySelector(".js-video").remove(),a.querySelector(".js-text").remove(),a.querySelector(".js-data").remove(),a.querySelector(".js-audio").setAttribute("src",n),a.querySelector(".js-audio").classList.remove("is-hidden")):e.startsWith("video")?(a.querySelector(".js-img").remove(),a.querySelector(".js-audio").remove(),a.querySelector(".js-text").remove(),a.querySelector(".js-data").remove(),a.querySelector(".js-video").setAttribute("src",n),a.querySelector(".js-video").classList.remove("is-hidden")):e.startsWith("text")?(a.querySelector(".js-img").remove(),a.querySelector(".js-audio").remove(),a.querySelector(".js-video").remove(),a.querySelector(".js-data").remove(),a.querySelector(".js-text").classList.remove("is-hidden")):(a.querySelector(".js-img").remove(),a.querySelector(".js-audio").remove(),a.querySelector(".js-video").remove(),a.querySelector(".js-text").remove(),a.querySelector(".js-data").classList.remove("is-hidden")):(a.querySelector(".js-audio").remove(),a.querySelector(".js-video").remove(),a.querySelector(".js-text").remove(),a.querySelector(".js-data").remove(),a.querySelector(".js-img").setAttribute("src",n),a.querySelector(".js-img").classList.remove("is-hidden"))}let l=a.querySelector(".js-btn-buy"),d=a.querySelector(".js-btn-cancel-offer");return e.value.seller===v?(l.classList.add("is-hidden"),d.classList.remove("is-hidden"),d.addEventListener("click",(()=>async function(e){let t=event.currentTarget,r=event.target.closest(".js-listing");t.classList.add("is-loading");let i=await async function(e){try{let t=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:c,parameters:{entrypoint:"cancel_offer",value:JSON.parse('{ "int": "'+e+'" }')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e);i&&(ne(i),r.remove()),t.classList.remove("is-loading")}(e.key)))):(d.classList.add("is-hidden"),l.classList.remove("is-hidden"),l.addEventListener("click",(()=>ee(e.key,e.value.price,i)))),a.querySelectorAll(".js-token-item").forEach((function(e){e.setAttribute("href",window.location.pathname+"?cmd=token&cid="+i.contract.address+"&tid="+i.tokenId)})),a}async function $(){let t,r=new Map;if(t=document.getElementById("cName").value.trim(),t)if(t.length>200)bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});else{if(r.set("name",t),t=document.getElementById("cDescription").value.trim(),t){if(t.length>2e3)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});r.set("description",t)}if(t=document.getElementById("cSymbol").value.trim(),t&&r.set("symbol",t),t=document.getElementById("cType").value.trim(),t&&r.set("type",t),t=document.getElementById("cInterfaces").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("interfaces",t),t=document.getElementById("cAuthors").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("authors",t),t=document.getElementById("cAddresses").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!i(e))return void bulmaToast.toast({message:"Invalid author address: "+e,type:"is-danger"});r.set("authoraddress",t)}if(t=document.getElementById("cCreators").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!i(e))return void bulmaToast.toast({message:"Invalid creator address: "+e,type:"is-danger"});r.set("creators",t)}if(t=document.getElementById("cFileImage").getAttribute("src"),t&&r.set("imageUri",t),W){document.getElementById("btnCollectionDataSave").classList.add("is-loading");let t=await async function(t,r){let i=r.size>0?e(JSON.stringify(Object.fromEntries(r))):"";try{let e=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"update_contract_metadata",value:JSON.parse('{"bytes":"'+i+'"}')}}]});if(e.transactionHash)return e.transactionHash;console.log("ERROR "+s()+"(): can't edit collection")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(W,r);t&&ne(t),document.getElementById("btnCollectionDataSave").classList.remove("is-loading")}else{document.getElementById("btnCollectionDataCreate").classList.add("is-loading");let t=await async function(t){let r=t.size>0?e(JSON.stringify(Object.fromEntries(t))):"";try{let e;if(f)e=f;else{let t=await fetch("./user_collection.json");t.ok&&(e=await t.text())}if(e){e=e.replaceAll("${user_address}",v),e=e.replaceAll("${metadata_content}",r);const t=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.ORIGINATION,balance:"0",script:JSON.parse(e)}]});if(t.transactionHash)return t.transactionHash}else console.log("ERROR "+s()+"(): can't create collection")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(r);t&&ne(t),document.getElementById("btnCollectionDataCreate").classList.remove("is-loading")}}else bulmaToast.toast({message:"The collection name must not be empty.",type:"is-danger"})}function K(){document.getElementById("cFile").value="",document.getElementById("cFileSizeIcon").classList.add("is-hidden"),document.getElementById("cFileSize").innerHTML="&nbsp;",document.getElementById("cFileName").innerHTML="Choose a file ...",document.getElementById("cFileImage").classList.add("is-hidden"),document.getElementById("cFileImage").setAttribute("src","")}async function X(){let e,t=new Map,r=document.getElementById("nftCollection").value;if(!r)return void bulmaToast.toast({message:"Collection must be selected.",type:"is-danger"});if(e=document.getElementById("nftName").value.trim(),e){if(e.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});t.set("name",e)}if(e=document.getElementById("nftDescription").value.trim(),e){if(e.length>200)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});t.set("description",e)}if(e=document.getElementById("nftTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),e.length>0){for(let t of e)if(t.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});t.set("tags",e)}if(e=document.getElementById("nftCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),e.length>0){for(let t of e)if(!i(t))return void bulmaToast.toast({message:"Invalid creator address: "+t,type:"is-danger"});t.set("creators",e)}e=document.getElementById("nftRights").value.trim(),e&&t.set("rights",e),e=document.getElementById("nftDecimals").value.trim(),e&&t.set("decimals",e),e=document.getElementById("nftType").value.trim(),e&&t.set("mimeType",e);let a=new Map,s=0,n=document.getElementById("pageTokenData").querySelectorAll(".js-royalties-line-data");for(let e of n){let t=e.querySelector(".js-royalties-data-address").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The royalty address must not be empty.",type:"is-danger"});if(!i(t))return void bulmaToast.toast({message:"Invalid royalty address: "+t,type:"is-danger"});if(a.has(t))return void bulmaToast.toast({message:"The royalty addresses must be different.",type:"is-danger"});let r=e.querySelector(".js-royalties-data-value").value;try{r=Math.round(100*parseFloat(r))}catch(e){return void bulmaToast.toast({message:"The royalty value must be a number.",type:"is-danger"})}if(r<=0)return void bulmaToast.toast({message:"The royalty value must be greater than zero.",type:"is-danger"});if(s+=r,s>2500)return void bulmaToast.toast({message:"The maximum amount of the total royalty shall not exceed 25%.",type:"is-danger"});a.set(t,r)}a.size>0&&(e='{"shares":'+JSON.stringify(Object.fromEntries(a))+',"decimals":4}',t.set("royalties",e));let o=new Map,m=document.getElementById("pageTokenData").querySelectorAll(".js-attributes-line-data");for(let e of m){let t=e.querySelector(".js-attributes-data-name").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The attribute name must not be empty.",type:"is-danger"});if(o.has(t))return void bulmaToast.toast({message:"The attribute names must be different.",type:"is-danger"});let r=e.querySelector(".js-attributes-data-value").value;o.set(t,r)}if(o.size>0){let e="[",r=!0;for(let[t,i]of o)r?r=!1:e+=",",e+='{"name":"'+t+'","value":"'+i+'"}';e+="]",t.set("attributes",e)}const l=document.getElementById("nftFile").files;if(e=l.length>0?await new Promise((e=>{let t=new FileReader;t.onload=r=>e(t.result),t.readAsDataURL(l[0])})):function(){const e=document.getElementById("nftPreviewContainer");let t=e.querySelector(".js-svg");if(t&&!t.classList.contains("is-hidden"))return t.getAttribute("data");for(let r of[".js-img",".js-text",".js-data",".js-audio",".js-video"])if(t=e.querySelector(r),t&&!t.classList.contains("is-hidden"))return t.getAttribute("src")}(),!e)return void bulmaToast.toast({message:"Media file must be selected.",type:"is-danger"});t.set("artifactUri",e);let d=document.getElementById("nftEditions").value;if(W&&H&&j&&(d-=j.totalSupply),W&&H&&j&&j.metadata){let e=new Set;for(let r in j.metadata)t.has(r)||e.add(r);for(let[e,r]of t)if(j.metadata.hasOwnProperty(e)){let i=r,a=j.metadata[e];try{"string"==typeof i||i instanceof String||(i=JSON.stringify(i)),"string"==typeof a||a instanceof String||(a=JSON.stringify(a)),i===a&&t.delete(e)}catch(e){}}for(let r of e)t.set(r,"");if(0===t.size&&0===d)return void bulmaToast.toast({message:"There is no new data to update NFT.",type:"is-warning"})}if(t.has("artifactUri")&&t.get("artifactUri").length>T){let e=document.getElementById("nftCollection");e.options[e.selectedIndex].text.startsWith("(*) ")?(F={state:-1,collectionAddress:r,metadata:t,editions:d},setTimeout(Z,10)):bulmaToast.toast({message:"This collection does not support big media files.<br/>Create a new one or choose a collection that does.",duration:7e3,type:"is-danger"})}else if(W&&H){document.getElementById("btnTokenDataSave").classList.add("is-loading");let e=await C(W,H,t,d);e&&ne(e),document.getElementById("btnTokenDataSave").classList.remove("is-loading")}else{document.getElementById("btnTokenDataCreate").classList.add("is-loading");let e=await N(r,t,d);e&&ne(e),document.getElementById("btnTokenDataCreate").classList.remove("is-loading")}}async function Z(){const t=document.getElementById("mCreateToken"),r=document.getElementById("mCreateTokenInfo"),i=document.getElementById("prCreateTokenProgress");let a,n=document.getElementById("btnCreateTokenUpload");switch(F.state){case-1:if(W&&H)for(let e of t.querySelectorAll(".js-mode-create"))e.classList.add("is-hidden");else for(let e of t.querySelectorAll(".js-mode-edit"))e.classList.add("is-hidden");i.value=0,r.textContent="",n.removeAttribute("disabled"),n.classList.remove("is-loading"),document.getElementById("mCreateToken").classList.add("is-active");let o=F.metadata.get("artifactUri");F.metadata.delete("artifactUri"),F.uploads=[];let m=o.length%T;m<8192?(F.metadata.set("artifactUri",o.slice(0,m)),o=o.substring(m)):o.startsWith("data:")?(F.metadata.set("artifactUri","data:"),o=o.substring(5)):F.metadata.set("artifactUri","");for(let e=0;e<o.length;e+=T)F.uploads.push(o.slice(e,e+T));F.parts=Math.ceil(o.length/T),F.part=0,F.state=0,W&&H&&(F.tokenId=H);break;case 0:let d;n.classList.add("is-loading"),r.textContent="Uploading token metadata...",d=W&&H?await C(F.collectionAddress,F.tokenId,F.metadata,F.editions):await N(F.collectionAddress,F.metadata,F.editions),d?(delete F.metadata,delete F.editions,F.txHash=d,F.state=10,setTimeout(Z,3e3)):(n.classList.remove("is-loading"),r.textContent=W&&H?"The updating is stopped. Press UPDATE to continue...":"The minting is stopped. Press MINT to continue...");break;case 10:if(W&&H)await P(F.txHash)?(delete F.txHash,i.value=100/(F.parts+1),F.state=1,a=10):a=3e3;else{let e=await async function(e){try{let t=await fetch("https://api."+l+".tzkt.io/v1/operations/transactions/"+e);if(t.ok){const e=await t.json();if(e&&e.length>0){let t=null;for(let r of e[0].diffs)if("ledger"===r.path&&"add_key"===r.action){t=r.content.key.nat;break}return{status:e[0].status,tokenId:t}}}else console.log("ERROR "+s()+"(): can't get new tokenId for "+e)}catch(e){console.log("ERRROR "+s()+"(): "+e+" "+JSON.stringify(e))}return null}(F.txHash);e&&"applied"===e.status?(delete F.txHash,i.value=100/(F.parts+1),F.tokenId=e.tokenId,F.state=1,a=10):a=3e3}setTimeout(Z,a);break;case 11:await P(F.txHash)?(delete F.txHash,F.part++,i.value=100/(F.parts+1)*(F.part+1),F.state=1,a=10):a=3e3,setTimeout(Z,a);break;case 1:if(F.uploads.length>0){n.classList.add("is-loading"),r.textContent="Uploading media resource part "+(F.part+1)+"/"+F.parts+"...";let t=await async function(t,r,i,a){try{let i=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"append_token_metadata",value:JSON.parse('{"prim": "Pair","args":[{"string":"artifactUri"},{"prim":"Pair","args":[{"int":"'+r+'"},{"bytes":"'+e(a)+'"}]}]}')}}]});if(i.transactionHash)return i.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(F.collectionAddress,F.tokenId,0,F.uploads[0]);t?(F.txHash=t,F.uploads.shift(),F.state=11,setTimeout(Z,3e3)):(n.classList.remove("is-loading"),r.textContent=W&&H?"The updating is stopped. Press UPDATE to continue...":"The minting is stopped. Press MINT to continue...")}else r.textContent=W&&H?"The NFT has been updated.":"The NFT has been minted.",n.setAttribute("disabled",""),n.classList.remove("is-loading"),F.state=3,setTimeout(Z,3e3);break;case 3:document.getElementById("mCreateToken").classList.remove("is-active");let c=W&&H?"The NFT has been updated.":"The NFT has been minted.";c+="<br/>Please wait a bit to see the NFT in the token lists.",bulmaToast.toast({message:c,duration:7e3,type:"is-success"});break;default:n.classList.remove("is-loading")}}function V(e,t){const r=document.getElementById("nftPreviewContainer");if(t||(t=se(e)),t)if(r.querySelector(".js-img").classList.add("is-hidden"),t.startsWith("image"))if(t.startsWith("image/svg+xml")){let t=r.querySelector(".js-svg-template").cloneNode(!0);t.classList.remove("js-svg-template"),t.classList.add("js-svg"),t.setAttribute("data",e),r.append(t),t.classList.remove("is-hidden")}else r.querySelector(".js-img").setAttribute("src",e),r.querySelector(".js-img").classList.remove("is-hidden");else t.startsWith("audio")?(r.querySelector(".js-audio").setAttribute("src",e),r.querySelector(".js-audio").classList.remove("is-hidden")):t.startsWith("video")?(r.querySelector(".js-video").setAttribute("src",e),r.querySelector(".js-video").classList.remove("is-hidden")):t.startsWith("text")?(r.querySelector(".js-text").setAttribute("src",e),r.querySelector(".js-text").classList.remove("is-hidden")):(r.querySelector(".js-data").setAttribute("src",e),r.querySelector(".js-data").classList.remove("is-hidden"));else r.querySelector(".js-img").setAttribute("src",e)}function Y(){document.getElementById("nftType").value="",document.getElementById("nftFileName").innerHTML="Choose a file ...",document.getElementById("nftFileSizeIcon").classList.add("is-hidden"),document.getElementById("nftFileSize").innerHTML="&nbsp;";const e=document.getElementById("nftPreviewContainer");let t=e.querySelector(".js-svg");t&&t.remove();for(let r of[".js-img",".js-text",".js-data",".js-audio",".js-video"])t=e.querySelector(r),t.classList.contains("is-hidden")||(t.classList.add("is-hidden"),t.setAttribute("src",""))}async function ee(e,r,i){let a=event.currentTarget;a.classList.add("is-loading");let n=await async function(e,t,r){try{let t=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:1*r,destination:c,parameters:{entrypoint:"accept_offer",value:JSON.parse('{"prim":"Pair","args":[{"int":"1"},{"int":"'+e+'"}]}')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e,0,r);if(n)if(i?.metadata){const e=document.getElementById("mPurchase");let r=i.metadata.artifactUri;try{new URL(r),r=r.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}e.querySelector(".js-img").setAttribute("src",r),e.querySelector(".js-name").innerText=i.metadata.name;const a=e.querySelector(".js-creators"),s=e.querySelector(".js-creator");if(r=i.metadata?.creators,Array.isArray(r)&&r.length>0)for(let e=0;e<r.length;e++){let i=s.cloneNode(!0);i.append(document.createTextNode(t(r[e]))),e>0&&a.append(document.createTextNode(", ")),i.classList.remove("is-hidden"),a.append(i)}else e.querySelector(".js-creators").innerText="";let n=e.querySelector(".textarea").value;n=n.replace("${name}",i.metadata.name),e.querySelector(".textarea").value=n,e.querySelectorAll(".button").forEach((function(e){let t=e.getAttribute("href");t=t.replace("${text}",encodeURIComponent(n)),t=t.replace("${link}",window.location.origin+window.location.pathname+"?cmd=token123%26cid="+i.contract.address+"%26tid="+i.tokenId),e.setAttribute("href",t)})),e.classList.add("is-active")}else ne(n);a.classList.remove("is-loading")}document.addEventListener("DOMContentLoaded",(async function(){document.getElementById("appTitle").prepend(document.createTextNode(A)),document.getElementById("appLogo").setAttribute("alt",A),document.getElementById("appVersion").append(document.createTextNode("v1.16")),o&&document.getElementById("btnMenuConfig").classList.add("is-hidden"),"mainnet"===l?(document.getElementById("iconMainnetNotActive").classList.add("is-hidden"),document.getElementById("iconMainnetActive").classList.remove("is-hidden"),document.getElementById("iconTestnetActive").classList.add("is-hidden"),document.getElementById("iconTestnetNotActive").classList.remove("is-hidden")):(document.getElementById("titleNetwork").innerHTML="&nbsp;testnet",document.getElementById("titleNetwork").classList.remove("is-hidden"),document.getElementById("iconMainnetActive").classList.add("is-hidden"),document.getElementById("iconMainnetNotActive").classList.remove("is-hidden"),document.getElementById("iconTestnetNotActive").classList.add("is-hidden"),document.getElementById("iconTestnetActive").classList.remove("is-hidden")),bulmaToast.setDefaults({duration:5e3,position:"bottom-left",animate:{in:"zoomIn",out:"zoomOut"}}),h=new beacon.DAppClient({name:A,network:{type:l,rpcUrl:"https://rpc.tzkt.io/"+l}}),h.subscribeToEvent(beacon.BeaconEvent.ACTIVE_ACCOUNT_SET,(e=>{})),await ie(!0);let e=new URLSearchParams(window.location.search).get("cmd");"tokens"===e?await async function(){ae(),document.getElementById("dTokens").innerHTML="",document.getElementById("pageTokens").classList.remove("is-hidden");let e=new URLSearchParams(window.location.search).get("cid");if(e){W=e,O=await R(e),v&&O&&y(O.typeHash)&&(v===O.creator.address?(0!==O.tokensCount&&document.getElementById("btnEditCollection").setAttribute("disabled",""),document.getElementById("btnNewTokenCollection").classList.remove("is-hidden"),document.getElementById("pageTokensCollectionButtons").classList.remove("is-hidden")):Array.isArray(O.storage?.collaborators)&&O.storage?.collaborators.includes(v)&&(document.getElementById("btnCollabs").classList.add("is-hidden"),document.getElementById("btnEditCollection").classList.add("is-hidden"),document.getElementById("btnNewTokenCollection").classList.remove("is-hidden"),document.getElementById("pageTokensCollectionButtons").classList.remove("is-hidden")));let a=document.getElementById("pageTokensCollection"),s=await b(e);if(s){let n=s.imageUri;if(n){try{new URL(n),n=n.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}a.querySelector(".js-img").setAttribute("src",n)}a.querySelector(".js-name").innerText=s.name?s.name:"",a.querySelector(".js-description").innerText=s.description?s.description:"",a.querySelector(".js-address").prepend(document.createTextNode(t(e))),a.querySelector(".copy-item").addEventListener("click",(()=>{r(e)&&bulmaToast.toast(w)}));let o=y(i=O.typeHash)||E(i)?"[Progressive&nbsp;ZeroContract]":"";if(o){let e=a.querySelector(".js-contract-version");e.innerHTML=o,e.classList.remove("is-hidden")}a.classList.remove("is-hidden")}else a.classList.add("is-hidden")}var i;await x()}():"token"===e?await async function(){ae();let e=document.getElementById("btnTokenEdit");e.classList.add("is-hidden"),e.setAttribute("disabled","");let i=document.getElementById("btnTokenList");i.classList.add("is-hidden");let a=document.getElementById("btnTokenBurn");a.classList.add("is-hidden");let s=document.getElementById("btnTokenTransfer");s.classList.add("is-hidden");let n=document.getElementById("btnTokenBuy");document.getElementById("dToken").classList.add("is-hidden"),document.getElementById("pageToken").classList.remove("is-hidden");let o=new URLSearchParams(window.location.search),m=o.get("cid"),l=o.get("tid");m&&(W=m),l&&(H=l);let d,c=document.getElementById("pageToken"),p=await L(W,H);if(p){let o;j=p,p.account===v&&p.balance>0&&(i.classList.remove("is-hidden"),a.classList.remove("is-hidden"),s.classList.remove("is-hidden"),new Promise((t=>{setTimeout((()=>{t(Promise.all([U({contract:W,tokenId:H}),e]))}),10)})).then((t=>{t[0]&&t[0].length>0&&v===t[0][0].firstMinter?.address&&(t[1].addEventListener("click",(()=>{window.location.search="cmd=tokendata&cid="+W+"&tid="+H})),t[1].classList.remove("is-hidden"),p.balance===p.token.totalSupply&&e.removeAttribute("disabled"))}))),new Promise((e=>{setTimeout((()=>{e(Promise.all([D(p.token.contract.address,p.token.tokenId),n,p.token]))}),10)})).then((e=>{e[0]&&(e[1].append(document.createTextNode((parseFloat(e[0].value.price)/1e6).toFixed(2)+" ꜩ")),e[1].addEventListener("click",(()=>ee(e[0].key,e[0].value.price,e[2]))),v!==e[0].value.seller&&e[1].removeAttribute("disabled"))})),d=p.token.metadata?.name,c.querySelector(".js-name").innerText=d||"",d=p.token.metadata?.description,c.querySelector(".js-description").innerText=d||"",d=p.token.metadata?.creators;let m=c.querySelector(".js-creators");if(Array.isArray(d)&&d.length>0){let e=c.querySelector(".js-creator");for(let r=0;r<d.length;r++){let i=d[r];o=e.cloneNode(!0),o.setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+i),o.append(document.createTextNode(t(i))),o.classList.remove("is-hidden"),m.append(o),m.append(document.createElement("br"))}}else m.innerText="";d=v&&v===p.account?p.balance:"",c.querySelector(".js-balance").innerText=d||"-",d=p.token.totalSupply,c.querySelector(".js-editions").innerText=d||"",d=p.firstTime,c.querySelector(".js-firsttime").innerText=d?new Date(Date.parse(d)).toLocaleString():"";let l=p.token.contract.address;o=c.querySelector(".js-contract"),o.setAttribute("href",window.location.pathname+"?cmd=tokens&cid="+l),o.append(document.createTextNode(t(l))),c.querySelector(".js-contract-copy").addEventListener("click",(()=>{l&&r(l)&&bulmaToast.toast(w)})),d=p.token.tokenId,c.querySelector(".js-tokenid").innerText=d||"",d=p.token.metadata?.rights,c.querySelector(".js-rights").innerText=d||"";let g=c.querySelector(".tags"),u=g.querySelector(".tag");if(d=p.token.metadata?.tags,Array.isArray(d)&&d.length>0)for(let e=0;e<d.length;e++)o=u.cloneNode(!0),o.append(document.createTextNode(d[e])),o.setAttribute("href",window.location.pathname+"?cmd=tokens&tag="+d[e]),o.classList.remove("is-hidden"),g.append(o);else g.innerText="";let y=p.token.metadata?.mimeType;if(c.querySelector(".js-type").innerText=y||(p.token.metadata?.artifactUri?se(p.token.metadata?.artifactUri):""),d=p.token.metadata?.displayUri?p.token.metadata?.displayUri:p.token.metadata?.artifactUri,d){try{new URL(d),d=d.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}y=se(d),y||(y=p.token.metadata?.mimeType),y?y.startsWith("image")?(c.querySelector(".js-container-audio").remove(),c.querySelector(".js-container-video").remove(),c.querySelector(".js-container-text").remove(),c.querySelector(".js-container-data").remove(),y.startsWith("image/svg+xml")?(c.querySelector(".js-img").remove(),c.querySelector(".js-svg").setAttribute("data",d)):(c.querySelector(".js-svg").remove(),c.querySelector(".js-img").setAttribute("src",d)),c.querySelector(".js-container-img").classList.remove("is-hidden")):y.startsWith("audio")?(c.querySelector(".js-container-img").remove(),c.querySelector(".js-container-video").remove(),c.querySelector(".js-container-text").remove(),c.querySelector(".js-container-data").remove(),c.querySelector(".js-audio").setAttribute("src",d),c.querySelector(".js-container-audio").classList.remove("is-hidden")):y.startsWith("video")?(c.querySelector(".js-container-img").remove(),c.querySelector(".js-container-audio").remove(),c.querySelector(".js-container-text").remove(),c.querySelector(".js-container-data").remove(),c.querySelector(".js-video").setAttribute("src",d),c.querySelector(".js-container-video").classList.remove("is-hidden")):y.startsWith("text")?(c.querySelector(".js-container-audio").remove(),c.querySelector(".js-container-video").remove(),c.querySelector(".js-container-img").remove(),c.querySelector(".js-container-data").remove(),c.querySelector(".js-container-text").classList.remove("is-hidden")):(c.querySelector(".js-container-audio").remove(),c.querySelector(".js-container-video").remove(),c.querySelector(".js-container-img").remove(),c.querySelector(".js-container-text").remove(),c.querySelector(".js-container-data").classList.remove("is-hidden")):(c.querySelector(".js-container-audio").remove(),c.querySelector(".js-container-video").remove(),c.querySelector(".js-container-text").remove(),c.querySelector(".js-container-data").remove(),c.querySelector(".js-svg").remove(),c.querySelector(".js-img").setAttribute("src",d),c.querySelector(".js-container-img").classList.remove("is-hidden"))}document.getElementById("dToken").classList.remove("is-hidden");let E=p.token.metadata?.royalties;if(E){let e="";try{let t=parseInt(E.decimals),r=new Map(Object.entries(E.shares));for(let[i,a]of r)e+=i+'<span class="px-1">:</span>'+Number((Number(a)/10**t*100).toFixed(2))+"%</span><br/>";c.querySelector(".js-royalties-tags").innerHTML=e,c.querySelector(".js-royalties-section").classList.remove("is-hidden")}catch(e){}}let I=p.token.metadata?.attributes;if(Array.isArray(I)&&I.length>0){let e="";for(let t of I)t.name&&(e+='<span class="tag has-background-white-bis"><b>'+t.name+'</b><span class="px-1">:</span>'+(t.value?t.value:"")+"</span>");c.querySelector(".js-attribs").innerHTML=e,c.querySelector(".js-attribs-section").classList.remove("is-hidden")}}}():"tokendata"===e||"newtoken"===e?await async function(){ae(),v?document.getElementById("nftCreators").value=v:(document.getElementById("pageTokenDataForm").setAttribute("disabled",""),bulmaToast.toast({message:"To mint or update token you need to connect wallet.",type:"is-danger"}));const e=document.getElementById("pageTokenData"),t=document.getElementById("nftCollection");let r=new URLSearchParams(window.location.search);if(W=r.get("cid"),H=r.get("tid"),W&&H){document.getElementById("nftEditions").setAttribute("disabled","");for(let t of e.querySelectorAll(".js-mode-create"))t.classList.add("is-hidden");let t=await U({contract:W,tokenId:H});if(t&&t.length>0){if(t=t[0],j=t,v===t.firstMinter.address?document.getElementById("btnTokenDataSave").removeAttribute("disabled"):document.getElementById("pageTokenDataForm").setAttribute("disabled",""),document.getElementById("nftName").value=t.metadata.name?t.metadata.name:"",document.getElementById("nftDescription").value=t.metadata.description?t.metadata.description:"",document.getElementById("nftTags").value=Array.isArray(t.metadata.tags)?t.metadata.tags.join():"",document.getElementById("nftEditions").value=t.totalSupply?t.totalSupply:"",document.getElementById("nftCreators").value=Array.isArray(t.metadata.creators)?t.metadata.creators.join():"",document.getElementById("nftType").value=t.metadata.mimeType?t.metadata.mimeType:"",document.getElementById("nftRights").value=t.metadata.rights?t.metadata.rights:"",document.getElementById("nftDecimals").value=t.metadata.decimals?t.metadata.decimals:"",t.metadata.royalties){let e=t.metadata.royalties;if(e.shares&&e.decimals){const t=document.getElementById("pageTokenData").querySelector(".js-royalties-line-template");try{let r=Number(e.decimals);for(var i in e.decimals=r,e.shares){e.shares[i]=Number(e.shares[i]);let a=t.cloneNode(!0);a.classList.remove("is-hidden"),a.classList.remove("js-royalties-line-template"),a.querySelector(".js-royalties-data-address").value=i,a.querySelector(".js-royalties-data-value").value=e.shares[i]/10**r*100,a.classList.add("js-royalties-line-data"),t.before(a)}}catch(e){}}}if(Array.isArray(t.metadata.attributes)){const e=document.getElementById("pageTokenData").querySelector(".js-attributes-line-template");for(let r of t.metadata.attributes){let t=e.cloneNode(!0);t.classList.remove("is-hidden"),t.classList.remove("js-attributes-line-template"),t.classList.add("js-attributes-line-data"),t.querySelector(".js-attributes-data-name").value=r.name,t.querySelector(".js-attributes-data-value").value=r.value,e.before(t)}}t.metadata.artifactUri&&V(t.metadata.artifactUri,null)}else bulmaToast.toast({message:"The token is not loaded.",type:"is-danger"})}else for(let t of e.querySelectorAll(".js-mode-edit"))t.classList.add("is-hidden");e.classList.remove("is-hidden"),t.parentNode.classList.add("is-loading");let a=new Option("(*) - ZeroTerminal collection -",d);t.append(a);let s=[];if(W)if(t.setAttribute("disabled",""),W===d)a.selected=!0;else{let e=await R(W);e&&s.push(e)}else v&&(s=await S({creator:v,limit:15,offset:q}));for(let e of s){let r=await b(e.address);if(!r)continue;let i=new Option((y(e.typeHash)?"(*) ":"")+r?.name,e.address);t.append(i),W===e.address&&(i.selected=!0,y(e.typeHash)||document.getElementById("btnTokenDataSave").setAttribute("disabled",""),E(e.typeHash)&&document.getElementById("nftEditions").removeAttribute("disabled"))}t.parentNode.classList.remove("is-loading")}():"collections"===e?await async function(){ae(),document.getElementById("dCollections").innerHTML="",document.getElementById("pageCollections").classList.remove("is-hidden"),await G()}():"collectiondata"===e||"newcollection"===e?await async function(){ae(),v?(document.getElementById("btnCollectionDataCreate").removeAttribute("disabled"),document.getElementById("btnCollectionDataSave").removeAttribute("disabled"),document.getElementById("cCreators").value=v):(document.getElementById("btnCollectionDataCreate").setAttribute("disabled",""),document.getElementById("btnCollectionDataSave").setAttribute("disabled",""),bulmaToast.toast({message:"To create a new collection you need to connect wallet.",type:"is-danger"}));const e=document.getElementById("pageCollectionData");let t=new URLSearchParams(window.location.search);if(W=t.get("cid")){let t=e.querySelectorAll(".js-mode-create");for(let e of t)e.classList.add("is-hidden");let r=await b(W);r?(document.getElementById("cName").value=r.name?r.name:"",document.getElementById("cDescription").value=r.description?r.description:"",document.getElementById("cType").value=r.type?r.type:"",document.getElementById("cAuthors").value=r.authors?r.authors.join():"",document.getElementById("cAddresses").value=r.authoraddress?r.authoraddress.join():"",document.getElementById("cCreators").value=Array.isArray(r.creators)?r.creators.join():"",document.getElementById("cInterfaces").value=r.interfaces?r.interfaces.join():"",r.imageUri&&(document.getElementById("cFileImage").classList.remove("is-hidden"),document.getElementById("cFileImage").setAttribute("src",r.imageUri))):bulmaToast.toast({message:"Collection info could not be retrieved.",type:"is-danger"})}else{let t=e.querySelectorAll(".js-mode-edit");for(let e of t)e.classList.add("is-hidden")}e.classList.remove("is-hidden")}():"listings"===e?await async function(){ae(),document.getElementById("dListings").innerHTML="",document.getElementById("pageListings").classList.remove("is-hidden"),await J()}():"search"===e?await async function(){ae(),document.getElementById("pageSearch").classList.remove("is-hidden")}():"info"===e?await(document.getElementById("btnBurger").classList.remove("is-active"),document.getElementById("navbarMenu").classList.remove("is-active"),ae(),void document.getElementById("pageInfo").classList.remove("is-hidden")):await async function(){ae(),document.getElementById("dActiveTokens").innerHTML="",document.getElementById("pageActiveTokens").classList.remove("is-hidden"),await _()}()})),document.getElementById("dMoreActiveTokens").addEventListener("click",(()=>_())),document.getElementById("btnMoreCollections").addEventListener("click",(()=>G())),document.getElementById("btnEditCollection").addEventListener("click",(()=>{window.location.search="cmd=collectiondata&cid="+W})),document.getElementById("btnNewTokenCollection").addEventListener("click",(()=>{window.location.search="cmd=tokendata&cid="+W})),document.getElementById("btnCollabs").addEventListener("click",(()=>function(){if(document.getElementById("btnCollabSave").classList.remove("is-loading"),document.getElementById("fieldCollabAddress").value="",document.getElementById("mCollab").classList.add("is-active"),O){let e=document.getElementById("mCollabCollaborators");e.options.length=0;let t=O.storage?.collaborators;if(t)for(let r of t)e.append(new Option(r,r))}}())),document.getElementById("btnCollabAdd").addEventListener("click",(()=>function(){let e=document.getElementById("fieldCollabAddress").value.trim();i(e)?(document.getElementById("mCollabCollaborators").append(new Option(e,e)),document.getElementById("fieldCollabAddress").value=""):bulmaToast.toast({message:"Invalid collaborator address: "+e,type:"is-danger"})}())),document.getElementById("btnCollabRemove").addEventListener("click",(()=>function(){let e=document.getElementById("mCollabCollaborators");e.selectedIndex>=0&&e.options[e.selectedIndex].remove()}())),document.getElementById("btnCollabShare").addEventListener("click",(()=>{r(window.location.origin+window.location.pathname+"?cmd=tokendata&cid="+W)&&bulmaToast.toast({message:"Link to collaboration copied.",type:"is-success"})})),document.getElementById("btnCollabSave").addEventListener("click",(()=>async function(){document.getElementById("btnCollabSave").classList.add("is-loading");let e=new Set(O.storage?.collaborators),t=new Set([...document.getElementById("mCollabCollaborators").options].map((e=>e.value))),r=[];for(let i of e.values())t.has(i)&&(e.delete(i),t.delete(i),r.push(i));if(await async function(e,t,r){let i=[],n=[];if(t&&t.size>0){t=Array.from(t).sort(((e,t)=>a(e,t)));for(let e of t)i.push('{"string":"'+e+'"}');n.push({kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"remove_collaborators",value:JSON.parse("["+i.join()+"]")}})}if(r&&r.size>0){i.length=0,r=Array.from(r).sort(((e,t)=>a(e,t)));for(let e of r)i.push('{"string":"'+e+'"}');n.push({kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"add_collaborators",value:JSON.parse("["+i.join()+"]")}})}if(!(n.length>0))return!0;try{let e=await h.requestOperation({operationDetails:n});if(e.transactionHash)return e.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(W,e,t)){if(O.storage?.collaborators){for(let e of t.values())r.push(e);O.storage.collaborators=r}document.getElementById("mCollab").classList.remove("is-active")}document.getElementById("btnCollabSave").classList.remove("is-loading")}())),document.getElementById("btnMoreTokens").addEventListener("click",(()=>x())),document.getElementById("btnMoreListings").addEventListener("click",(()=>J())),document.getElementById("btnSearch").addEventListener("click",(()=>async function(){let e="";if(document.getElementById("searchListTab").classList.contains("is-active")){let t,r,a=document.getElementById("searchListMinPrice").value;if(a){if(a=Math.round(parseFloat(a)*10**6),Number.isNaN(a)||a<=0)return void bulmaToast.toast({message:"Invalid min price.",type:"is-danger"});t=a,e+="&minprice="+a}if(a=document.getElementById("searchListMaxPrice").value,a){if(a=Math.round(parseFloat(a)*10**6),Number.isNaN(a)||a<=0)return void bulmaToast.toast({message:"Invalid max price.",type:"is-danger"});r=a,e+="&maxprice="+a}if(t&&r&&t>r)return void bulmaToast.toast({message:"Invalid price range.",type:"is-danger"});if(a=document.getElementById("searchListAddress").value.trim(),a){if(!i(a))return void bulmaToast.toast({message:"Invalid token or collection address.",type:"is-danger"});e+="&cid="+a}if(a=document.getElementById("searchListSeller").value.trim(),a){if(!i(a))return void bulmaToast.toast({message:"Invalid seller address.",type:"is-danger"});e+="&seller="+a}window.location.search="cmd=listings"+e}else if(document.getElementById("searchColTab").classList.contains("is-active")){let t=document.getElementById("searchColAddress").value.trim();if(t){if(!i(t))return void bulmaToast.toast({message:"Invalid collection address.",type:"is-danger"});e+="&cid="+t}if(t=document.getElementById("searchColCreator").value.trim(),t){if(!i(t))return void bulmaToast.toast({message:"Invalid creator address.",type:"is-danger"});e+="&creator="+t}window.location.search="cmd=collections"+e}else if(document.getElementById("searchTokTab").classList.contains("is-active")){let t=document.getElementById("searchTokName").value.trim();if(t){if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});e+="&name="+encodeURIComponent(t)}t=document.getElementById("searchTokCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(!i(r))return void bulmaToast.toast({message:"Invalid creator address: "+r,type:"is-danger"});e+="&creator="+r.trim()}t=document.getElementById("searchTokTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(r.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});e+="&tag="+encodeURIComponent(r.trim())}if(t=document.getElementById("searchTokType").value.trim(),e+="&type="+t,t=document.getElementById("searchTokMinter").value.trim(),t){if(!i(t))return void bulmaToast.toast({message:"Invalid minter address.",type:"is-danger"});e+="&minter="+t}!1===document.getElementById("searchOnchainOnly")?.checked&&(e+="&onchain=false"),window.location.search="cmd=tokens"+e}}())),document.getElementById("btnCollectionDataCreate").addEventListener("click",(()=>$())),document.getElementById("btnCollectionDataSave").addEventListener("click",(()=>$())),document.getElementById("cFile").addEventListener("change",(()=>function(){const e=document.getElementById("cFile"),t=document.getElementById("cFileImage"),r=document.getElementById("cFileSizeIcon");if(r.classList.add("is-hidden"),e.files.length>0){let i=e.files[0];document.getElementById("cFileName").innerHTML=i.name;let a="0 Bytes";if(i.size>0){let e=["Bytes","KB","MB","GB","TB"],t=Math.floor(Math.log(i.size)/Math.log(1024));a=parseFloat((i.size/Math.pow(1024,t)).toFixed(2))+" "+e[t],i.size>15360&&(r.classList.add("has-text-danger"),r.classList.remove("is-hidden"),bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"}))}document.getElementById("cFileSize").innerHTML=a;let s=new FileReader;s.readAsDataURL(i),s.onload=e=>{t.classList.remove("is-hidden"),t.setAttribute("src",e.target.result)}}else K()}())),document.getElementById("cFileRemove").addEventListener("click",(()=>K())),document.getElementById("btnTokenDataCreate").addEventListener("click",(()=>X())),document.getElementById("btnTokenDataSave").addEventListener("click",(()=>X())),document.getElementById("nftFile").addEventListener("change",(()=>function(){const e=document.getElementById("nftFile");if(Y(),e.files.length>0){let t=e.files[0];document.getElementById("nftFileName").innerHTML=t.name;let r="0 Bytes";if(t.size>0){let e=["Bytes","KB","MB","GB","TB"],i=Math.floor(Math.log(t.size)/Math.log(1024));r=parseFloat((t.size/Math.pow(1024,i)).toFixed(2))+" "+e[i],t.size>T&&(document.getElementById("nftCollection").selectedOptions[0].value===d||document.getElementById("nftCollection").selectedOptions[0].text.startsWith("(*)")||bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"}))}document.getElementById("nftFileSize").innerHTML=r;let i=t.type;document.getElementById("nftType").value=i;let a=new FileReader;a.onload=e=>{V(e.target.result,i)},a.readAsDataURL(t)}}())),document.getElementById("btnCreateTokenUpload").addEventListener("click",(()=>Z())),document.getElementById("nftFileRemove").addEventListener("click",(()=>{document.getElementById("nftFile").value="",Y()})),document.getElementById("btnTokenList").addEventListener("click",(()=>async function(){j&&document.getElementById("mListTokenAmount").setAttribute("max",j.balance),document.getElementById("mListToken").classList.add("is-active")}())),document.getElementById("btnListTokenList").addEventListener("click",(()=>async function(){if(!j)return void bulmaToast.toast({message:"The token is not found.",type:"is-danger"});let e=Math.round(parseFloat(document.getElementById("mListTokenPrice").value)*10**6);if(Number.isNaN(e)||e<=0)return void bulmaToast.toast({message:"Invalid price.",type:"is-danger"});let t,r=j.token.contract.address,i=j.token.tokenId,a=document.getElementById("mListTokenAmount").value;try{let e=j.token.metadata.royalties,r=parseInt(e.decimals);t=new Map(Object.entries(e.shares));for(let[e,i]of t)t.set(e,Math.trunc(Number(i)/10**r*1e4))}catch(e){t=new Map}let n=document.getElementById("mListTokenStartTiime").value;n=Math.trunc(Date.parse(n)/1e3),n||(n=Math.trunc(Date.now()/1e3));document.getElementById("btnListTokenList").classList.add("is-loading");let o=await async function(e,t,r,i,a,n,o){let m="";if(a&&a.size>0){a=new Map([...a].sort());let e=0;for(let[t,r]of a)e>0&&(m+=","),e++,m+='{"prim":"Elt","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}'}o=o?'"prim":"Some","args":[{"int":"'+o+'"}]':'"prim":"None"';try{let a=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"update_operators",value:JSON.parse('[ { "prim": "Left", "args": [ { "prim": "Pair", "args": [ { "string": "'+v+'" }, { "prim": "Pair", "args": [ { "string": "'+c+'" }, { "int": "'+r+'" } ] } ] } ] } ]')}},{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:c,parameters:{entrypoint:"add_offer",value:JSON.parse('{"prim":"Pair","args":[{"prim":"Pair","args":[{"int":"'+i+'"},{"prim":"Pair","args":[{"int":"'+e+'"},['+m+']]}]},{"prim":"Pair","args":[{'+o+'},{"prim":"Pair","args":[{"int":"'+n+'"},{"prim":"Pair","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}]}]}]}')}}]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e,r,i,a,t,n,"");o&&(ne(o),document.getElementById("mListToken").classList.remove("is-active")),document.getElementById("btnListTokenList").classList.remove("is-loading")}())),document.getElementById("btnTokenBurn").addEventListener("click",(()=>async function(){j&&document.getElementById("mBurnTokenAmount").setAttribute("max",j.balance),document.getElementById("mBurnToken").classList.add("is-active")}())),document.getElementById("btnBurnTokenBurn").addEventListener("click",(()=>async function(){document.getElementById("btnBurnTokenBurn").classList.add("is-loading");let e=document.getElementById("mBurnTokenAmount").value,t=await async function(e,t,r){try{let i=await B(e,t,r),a=await h.requestOperation({operationDetails:[i]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(W,H,e);t&&ne(t),document.getElementById("btnBurnTokenBurn").classList.remove("is-loading")}())),document.getElementById("btnTokenTransfer").addEventListener("click",(()=>async function(){j&&document.getElementById("mTransferTokenAmount").setAttribute("max",j.balance),document.getElementById("mTransferTokenAddressTo").value="",document.getElementById("mTransferToken").classList.add("is-active")}())),document.getElementById("btnTransferTokenTransfer").addEventListener("click",(()=>async function(){let e=document.getElementById("mTransferTokenAmount").value,t=document.getElementById("mTransferTokenAddressTo").value.trim();if(!i(t))return void bulmaToast.toast({message:"Invalid destination address.",type:"is-danger"});document.getElementById("btnTransferTokenTransfer").classList.add("is-loading");let r=await async function(e,t,r,i){try{let a=await h.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"transfer",value:JSON.parse('[{"prim": "Pair","args":[{"string":"'+v+'"},[{"prim": "Pair","args":[{"string":"'+i+'"},{"prim": "Pair","args":[{"int":"'+t+'"},{"int":"'+r+'"}]}]}]]}]')}}]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(W,H,e,t);r&&(ne(r),document.getElementById("mTransferToken").classList.remove("is-active")),document.getElementById("btnTransferTokenTransfer").classList.remove("is-loading")}()));var te={container:null,containerStyle:null};function re(){let e=event.currentTarget.querySelector(".fas");event.currentTarget.parentElement.querySelector(".is-collapsible").classList.toggle("is-active"),e.classList.toggle("fa-angle-down"),e.classList.toggle("fa-angle-up")}async function ie(e){let r=v;await async function(e){let t=await h.getActiveAccount();if(t)v=t.address;else if(!e){let e=await h.requestPermissions();v=e.address}}(e),v&&(document.getElementById("divConnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML=t(v),document.getElementById("divDisconnect").classList.remove("is-hidden")),e||r===v||window.location.reload()}function ae(){document.querySelectorAll(".js-page").forEach((function(e){e.classList.add("is-hidden")}))}function se(e){return e&&e.startsWith("data:")?e.startsWith("data:image/svg+xml")?"image/svg+xml":e.startsWith("data:image")?"image":e.startsWith("data:text")?"text":e.startsWith("data:audio")?"audio":e.startsWith("data:video")?"video":"data":""}function ne(e){bulmaToast.toast({message:"Your request is processing with ID <a href='https://"+l+".tzkt.io/"+e+"' target='_blank'>"+t(e)+"</a>",duration:5e3,type:"is-success"})}function oe(){bulmaToast.toast({message:"The data cannot be retrieved at this moment.<br/>Please try again later.",duration:7e3,type:"is-warning"})}document.getElementById("btnTokenFullscreen").addEventListener("click",(()=>{let e=document.getElementById("pageToken").querySelector(".media-content");if(e.querySelector(".js-img")||e.querySelector(".js-svg")||e.querySelector(".js-audio")||e.querySelector(".js-video"))try{e.requestFullscreen(),te.container=e.querySelector(".image"),te.containerStyle=te.container.getAttribute("style"),te.container.classList.add("fullscreen-container"),te.container.removeAttribute("style")}catch(e){}})),document.addEventListener("fullscreenchange",(function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||te.container&&(te.container.classList.remove("fullscreen-container"),te.container.setAttribute("style",te.containerStyle),te.container=null,te.containerStyle=null)})),document.querySelectorAll(".js-faq-item").forEach((function(e){e.onclick=re})),document.getElementById("btnConnect").addEventListener("click",(()=>ie(!1))),document.getElementById("btnDisconnect").addEventListener("click",(()=>async function(){await async function(){await h.clearActiveAccount(),v=""}(),v||(document.getElementById("divDisconnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML="",document.getElementById("divConnect").classList.remove("is-hidden")),window.location.reload()}())),document.getElementById("btnMenuTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens"})),document.getElementById("btnMenuCollections").addEventListener("click",(()=>{window.location.search="cmd=collections"})),document.getElementById("btnMenuListings").addEventListener("click",(()=>{window.location.search="cmd=listings"})),document.getElementById("btnMenuSearch").addEventListener("click",(()=>{window.location.search="cmd=search"})),document.getElementById("btnMenuNewToken").addEventListener("click",(()=>{window.location.search="cmd=tokendata"})),document.getElementById("btnMenuNewCollection").addEventListener("click",(()=>{window.location.search="cmd=collectiondata"})),document.getElementById("btnMenuInfo").addEventListener("click",(()=>{window.location.search="cmd=info"})),document.getElementById("btnMenuCopyAddress").addEventListener("click",(()=>{v&&r(v)&&bulmaToast.toast(w)})),document.getElementById("btnMenuMyTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens&account="+v})),document.getElementById("btnMenuMyCreatedTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens&type=&minter="+v})),document.getElementById("btnMenuMyCollections").addEventListener("click",(()=>{window.location.search="cmd=collections&creator="+v})),document.getElementById("btnMenuMyListings").addEventListener("click",(()=>{window.location.search="cmd=listings&seller="+v})),LT={}})();
</script>

</body>
</html>
