<!DOCTYPE html>

<html>
<head>
    <title>ZeroTerminal</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="icon" type="image/png" href="data:image/png;base64,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"/>

    <script type="module">import * as beacon from "https://unpkg.com/@airgap/beacon-sdk@4.3.3/dist/walletbeacon.min.js";</script>
    <script type="module">import * as bulmaToast from "https://cdn.jsdelivr.net/npm/bulma-toast@2.4.2/dist/bulma-toast.min.js";</script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap');
        @import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css");
        @import url("https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css");
        @import url("https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css");

        .is-collapsible {
            height: auto;
            max-height: 0;
            overflow-y: hidden;
            transition: max-height 0.2s ease;
        }
        .is-collapsible.is-active {
            max-height: 1200px !important;
        }

        .faq {
            border: 1px solid grey;
            border-radius: 10px;
            padding: 0.25rem;
        }
        .faq-body {
            border: 0;
        }
        
        .copy-item {
            cursor: copy;
        }
        .copy-item:hover {
            background-color: #F5F5F5;
        }

        .is-256x256 {
            width: 256px;
            height: 256px;
        }
        .is-512x512 {
            width: 512px;
            height: 512px;
        }

        .overflow-ellipsis {
            text-overflow: ellipsis;
            /*white-space: nowrap;*/
            display: block;
            overflow: hidden;
        }

        .grid-collections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 16px;
        }
        .grid-tokens {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(256px, 1fr));
            gap: 16px;
        }
        
        body, button, input, optgroup, select, textarea {
            min-width: 80px;
            font-family: "IBM Plex Mono";
            font-weight: 400;
        }

        .title, .button, .field-label {
            text-transform: uppercase;
        }
        
        .field-label, .field-body {
            flex-basis: auto;
            flex-grow: 0;
        }
        
        .modal-card-foot, .modal-card-head {
            text-transform: uppercase;
            background-color: #FFFFFF;
            border-top: 0;
            border-bottom: 0;
        }
        
        .delete, .modal-close {
            background-color: #FFFFFF;
            border: none;
            height: 30px;
            max-height: 30px;
            max-width: 30px;
            min-height: 30px;
            min-width: 30px;
            width: 30px;
        }
        .delete::after, .delete::before, .modal-close::after, .modal-close::before {
            background-color: #565656;
        }
        
    </style>

    <script>
        const GRAY_RECT = "data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAgMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyB4PScwJyB5PScwJyBmaWxsPScjZjVmNWY1Jy8+PC9zdmc+";
    </script>
</head>


<body>
    
<div class="container">
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand ml-0 mr-5">
        <div class="navbar-item">
            <img class="is-clickable is-unselectable" onclick="window.location.search=''" src="data:image/png;base64,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"/>
            <p id="appTitle" class="is-hidden title has-text-black is-size-3 is-clickable is-unselectable" onclick="window.location.search=''"></p>
            <p><sub id="titleNetwork" class="is-hidden is-unselectable has-text-grey-dark has-text-weight-light is-size-6">&nbsp;mainnet</sub></p>
        </div>
        <div id="btnBurger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="true" data-target="navbarMenu"
             onclick="this.classList.toggle('is-active'); document.getElementById('navbarMenu').classList.toggle('is-active');">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </div>
    </div>
    <div id="navbarMenu" class="navbar-menu mx-0 has-text-weight-semibold">
        <div class="navbar-start">
            <div class="navbar-item m-1 has-dropdown is-hoverable">
                <a class="navbar-item is-uppercase">Explore</a>
                <div class="navbar-dropdown">
                    <a id="btnMenuTokens" class="navbar-item">Tokens</a>
                    <a id="btnMenuCollections" class="navbar-item">Collections</a>
                    <a id="btnMenuListings" class="navbar-item">Listings</a>
                </div>
            </div>
            <a id="btnMenuSearch" class="navbar-item m-1 is-uppercase">Search</a>
            <div class="navbar-item m-1 has-dropdown is-hoverable">
                <a id="btnMenuCreate" class="navbar-item is-uppercase">Create</a>
                <div class="navbar-dropdown">
                    <a id="btnMenuNewToken" class="navbar-item">Token</a>
                    <a id="btnMenuNewCollection" class="navbar-item">Collection</a>
                </div>
            </div>
            <a id="btnMenuInfo" class="navbar-item m-1 is-uppercase">Info</a>
        </div>

        <div class="navbar-end ">
            <div id="btnMenuConfig" class="navbar-item m-1 has-dropdown is-hoverable">
                <a class="navbar-item has-text-weight-semibold">
                    <span class="icon pr-2"><i class="fa-solid fa-gear"></i></span>
                </a>
                <div class="navbar-dropdown"> <!--style="pointer-events: none;"-->
                    <a id="btnMenuMainnet" class="navbar-item" href="https://zeroterminal.art/">
                        <span id="iconMainnetNotActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle"></i></span>
                        <span id="iconMainnetActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle-dot"></i></span>
                        mainnet
                    </a>
                    <a id="btnMenuTestnet" class="navbar-item" href="https://testnet.zeroterminal.art/">
                        <span id="iconTestnetNotActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle"></i></span>
                        <span id="iconTestnetActive" class="icon mr-1 is-hidden"><i class="fa-regular fa-circle-dot"></i></span>
                        testnet
                    </a>
                </div>
            </div>

            <div id="divConnect" class="navbar-item has-text-centered py-1">
                <button id="btnConnect" class="button has-text-weight-semibold">Connect wallet</button>
            </div>
            <div id="divDisconnect" class="navbar-item has-dropdown is-hoverable is-hidden">
                <a class="navbar-item has-text-weight-semibold">
                    <span class="icon"><i class="fa-solid fa-user"></i></span>
                    <span id="aAddress"></span>
                </a>
                <div class="navbar-dropdown is-right">
                    <a id="btnMenuCopyAddress" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-regular fa-copy"></i></span>
                        <span class="">Copy address</span>
                    </a>
                    <hr class="navbar-divider has-background-grey-lighter"/>
                    <a id="btnMenuMyTokens" class="navbar-item">
                        <span class="icon pr-2"><i class="fas fa-photo-video"></i></span>
                        <span>My tokens</span>
                    </a>
                    <a id="btnMenuMyCollections" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-solid fa-folder-open"></i></span>
                        <span>My collections</span>
                    </a>
                    <a id="btnMenuMyListings" class="navbar-item">
                        <span class="icon pr-2"><i class="fa-solid fa-tags"></i></span>
                        <span>My listings</span>
                    </a>
                    <hr class="navbar-divider has-background-grey-lighter"/>
                    <a id="btnDisconnect" class="navbar-item">
                        <span class="icon"><i class="fas fa-arrow-right-from-bracket"></i></span>
                        <span>Disconnect</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</nav>
</div>


<div id="content" class="container">


<div id="pageActiveTokens" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Active tokens</h2>
        </div>
    </div>
    <div id="dActiveTokensLoader" class="my-3 is-fullwidth is-flex is-justify-content-center"><span class="loader"></span></div>
    <div id="dActiveTokens" class="grid-tokens">
    
    </div>
    <div id="dMoreActiveTokens" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreActiveTokens" class="button has-text-weight-semibold">... More tokens ...</button>
    </div>
</div>


<div id="pageCollections" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Collections</h2>
        </div>
    </div>
    <div id="dCollectionsLoader" class="my-3 is-fullwidth is-flex is-justify-content-center"><span class="loader"></span></div>
    <!--<div id="dCollections" class="is-flex is-flex-wrap-wrap is-justify-content-space-evenly" style="flex-basis: 250px; gap: 16px;">-->
    <div id="dCollections" class="grid-collections">

    </div>
    <div id="dMoreCollections" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreCollections" class="button has-text-weight-semibold">... More collections ...</button>
    </div>
</div>


<div id="pageNewCollection" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Create new collection</h2>
        </div>
    </div>
    <div class="columns is-8">

    <div class="column">
        <div class="field">
            <label class="label">Name:</label>
            <div class="field-body">
                <input id="cName" class="input" type="text" size="50" placeholder="Collection name ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Description:</label>
            <div class="field-body">
                <textarea id="cDescription" class="textarea" placeholder="Description ..." rows="3"></textarea>
            </div>
        </div>
        <div class="field">
            <label class="label">Category:</label>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="cType">
                        <option value="" selected=""></option>
                        <option value="art">Art</option>
                        <option value="collectible">Collectible</option>
                        <option value="other">Other</option>
                    </select>   
                </div>
            </div>
        </div>
        <div class="field">
            <label class="label">Authors:</label>
            <div class="field-body">
                <input id="cAuthors" class="input" type="text" placeholder="Author One, Author Two, ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Addresses:</label>
            <div class="field-body">
                <input id="cAddresses" class="input" type="text" placeholder="Author One address, Author Two address, ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
            <div class="field-label is-normal">
                <label class="label">Symbol:</label>
            </div>
            <div class="field-body">
                <input id="cSymbol" class="input" type="text" disabled="" placeholder="Symbol ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
            <div class="field-label is-normal">
                <label class="label">Interfaces:</label>
            </div>
            <div class="field-body">
                <input id="cInterfaces" class="input" type="text" disabled="" placeholder="Interfaces ..." value="TZIP-012, TZIP-016"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Creators:</label>
            <div class="field-body">
                <input id="cCreators" class="input" type="text" size="35" disabled="" placeholder="Creator One address, Creator Two address, ..."/>
            </div>
        </div>
    </div>

    <div class="column">
        <div class="field">
            <label class="label">Logo:</label>
            <div class="field is-horizontal mb-1 is-flex is-flex-wrap-nowrap">
                <div class="file has-name is-fullwidth mr-1" style="width: 100%">
                    <label class="file-label">
                        <input id="cFile" class="file-input" type="file" accept="image/*"/>
                        <span class="file-cta has-background-white">
                            <span class="file-icon"><i class="pl-3 fas fa-upload"></i></span>
                            <!--<span class="file-label">Choose a file ...</span>-->
                        </span>
                        <span id="cFileName" class="file-name">Choose a file ...</span>
                    </label>
                </div>
                <button id="cFileRemove" class="button has-text-weight-semibold"><i class="fa-regular fa-trash-can"></i></button>
            </div>
            <div class="field is-horizontal is-justify-content-center is-flex is-flex-wrap-nowrap">
                <span id="cFileSizeIcon" class="icon mr-2 pb-2 is-hidden"><i class="fa-solid fa-circle-exclamation"></i></span>
                <span id="cFileSize" class="is-size-7 mb-2">&nbsp;</span>
            </div>
        </div>
        <div class="media is-relative">
            <figure class="media-content is-flex is-justify-content-center">
                <p class="image is-256x256">
                    <img id="cFileImage" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>
                </p>
            </figure>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <label class="checkbox is-size-7" disabled=""><input type="checkbox" checked="" disabled="" style="min-width: 32px;"/>Save logo on-chain</label>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <button id="btnNewCollectionCreate" class="button has-text-weight-semibold js-loggedin">Create</button>
        </div>
    </div>

    </div>
</div>


<div id="pageListings" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Listings</h2>
        </div>
    </div>
    <div id="dListingsLoader" class="my-3 is-fullwidth is-flex is-justify-content-center"><span class="loader"></span></div>
    <div id="dListings" class="">
    
    </div>
    <div id="dMoreListings" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreListings" class="button has-text-weight-semibold">... More listings ...</button>
    </div>
</div>


<div id="pageSearch" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item  is-justify-content-center">
            <h2 class="title">Search</h2>
        </div>
    </div>
    <div class="tabs is-boxed pb-2">
        <ul>
            <li id="searchListTab" class="is-active">
                <a onclick='
                    document.getElementById("searchTokTab").classList.remove("is-active");
                    document.getElementById("dSearchToken").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.remove("is-active");
                    document.getElementById("dSearchCollection").classList.add("is-hidden");
                    document.getElementById("searchListTab").classList.add("is-active");
                    document.getElementById("dSearchListing").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Listings</span>
                </a>
            </li>
            <li id="searchTokTab" class="">
                <a onclick='
                    document.getElementById("searchListTab").classList.remove("is-active");
                    document.getElementById("dSearchListing").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.remove("is-active");
                    document.getElementById("dSearchCollection").classList.add("is-hidden");
                    document.getElementById("searchTokTab").classList.add("is-active");
                    document.getElementById("dSearchToken").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Tokens</span>
                </a>
            </li>
            <li id="searchColTab" class="">
                <a onclick='
                    document.getElementById("searchListTab").classList.remove("is-active");
                    document.getElementById("dSearchListing").classList.add("is-hidden");
                    document.getElementById("searchTokTab").classList.remove("is-active");
                    document.getElementById("dSearchToken").classList.add("is-hidden");
                    document.getElementById("searchColTab").classList.add("is-active");
                    document.getElementById("dSearchCollection").classList.remove("is-hidden");'>
                    <span class="has-text-weight-semibold">Collections</span>
                </a>
            </li>
        </ul>
    </div>
    <div id="dSearchListing" class="">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Min. price:</label>
            </div>
            <div class="field-body is-flex is-flex-wrap-nowrap">
                <input id="searchListMinPrice" class="input" type="number" min="0" style="width: 135px;"
                       onchange="this.value = parseFloat(this.value <= Number(this.getAttribute('min')) ?
                           '' : Math.round(this.value*10**6)/10**6)"/>
                <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Max. price:</label>
            </div>
            <div class="field-body is-flex is-flex-wrap-nowrap">
                <input id="searchListMaxPrice" class="input" type="number" min="0" style="width: 135px;"
                       onchange="this.value = parseFloat(this.value <= Number(this.getAttribute('min')) ?
                           '' : Math.round(this.value*10**6)/10**6)"/>
                <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Address:</label>
            </div>
            <div class="field-body">
                <input id="searchListAddress" class="input" type="text" size="35" placeholder="Token or collection address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center is-hidden">
            <div class="field-label is-normal">
                <label class="label">Seller:</label>
            </div>
            <div class="field-body">
                <input id="searchListSeller" class="input" type="text" size="35" placeholder="Seller address ..."/>
            </div>
        </div>
    </div>
    <div id="dSearchToken" class="is-hidden">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Name:</label>
            </div>
            <div class="field-body">
                <input id="searchTokName" class="input" type="text" size="40" placeholder="Token name ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Creator:</label>
            </div>
            <div class="field-body">
                <input id="searchTokCreators" class="input" type="text" size="35" placeholder="Creator address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Tag:</label>
            </div>
            <div class="field-body">
                <input id="searchTokTags" class="input" type="text" size="30" placeholder="Tag ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Type:</label>
            </div>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="searchTokType">
                        <option value="" selected="">All types</option>
                        <option value="image">Image</option>
                        <option value="audio">Audio</option>
                        <option value="video">Video</option>
                        <option value="text">Text</option>
                    </select>   
                </div>
            </div>
        </div>
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Minter:</label>
            </div>
            <div class="field-body">
                <input id="searchTokMinter" class="input" type="text" size="35" placeholder="Minter address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
        </div>
    </div>
    <div id="dSearchCollection" class="is-hidden">
        <div class="field is-horizontal is-justify-content-center">
            <div class="field-label is-normal">
                <label class="label">Creator:</label>
            </div>
            <div class="field-body">
                <input id="searchColCreator" class="input" type="text" size="35" placeholder="Creator address ..."/>
            </div>
        </div>
        <div class="field is-horizontal is-hidden">
        </div>
    </div>
    <div class="buttons p-5 is-justify-content-center">
        <button id="btnSearch" class="button has-text-weight-semibold">Search</button>
    </div>
</div>


<div id="pageTokens" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Tokens</h2>
        </div>
    </div>
    <div id="dTokensLoader" class="my-3 is-fullwidth is-flex is-justify-content-center"><span class="loader"></span></div>
    <div id="dTokens" class="grid-tokens">
    
    </div>
    <div id="dMoreTokens" class="my-3 is-fullwidth has-text-centered is-hidden">
        <button id="btnMoreTokens" class="button has-text-weight-semibold">... More tokens ...</button>
    </div>
</div>


<div id="pageNewToken" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Mint new on-chain NFT</h2>
        </div>
    </div>
    <div class="columns">

    <div class="column">
        <div class="field">
            <label class="label">Collection:</label>
            <div class="field-body">
                <div class="select is-fullwidth">
                    <select id="nftCollection">
                        <option value="" selected=""></option>
                    </select>   
                </div>
            </div>
        </div>
        <div class="field">
            <label class="label">Name:</label>
            <div class="field-body">
                <input id="nftName" class="input" type="text" placeholder="NFT name ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Description:</label>
            <div class="field-body">
                <textarea id="nftDescription" class="textarea" placeholder="Description ..." rows="3"></textarea>
            </div>
        </div>
        <div class="field">
            <label class="label">Tags:</label>
            <div class="field-body">
                <input id="nftTags" class="input" type="text" placeholder="tag1, tag2, tag3 ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Creators:</label>
            <div class="field-body">
                <input id="nftCreators" class="input" type="text" size="35" placeholder="Creator One address, Creator Two address, ..."/>
            </div>
        </div>
        <div class="field">
            <label class="label">Editions:</label>
            <div class="field-body">
                <input id="nftEditions" class="input" type="number" min="1" max="10000" step="1" value="1"
                       onchange="this.value=parseFloat(this.value<0?1:(this.value>10000?10000:this.value)).toFixed(0)"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Royalties:</label>
            <div class="field-body is-flex is-flex-wrap-wrap">
                <div class="field is-horizontal mr-0 mb-2 is-hidden is-flex is-flex-wrap-nowrap js-royalties-line-template" style="width: 100%">
                    <input class="input js-royalties-data-value" type="number" min="0.1" max="25" step="0.1" value="0.1" style="width: 145px;"
                        onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                    (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(1)"/>
                    <span class="ml-1 mr-3 pt-2 has-text-weight-semibold">%</span>
                    <input class="input mr-1 js-royalties-data-address" type="text" placeholder="Address ..."/>
                    <button class="button has-text-weight-semibold" onclick="this.parentNode.remove();"><i class="fa-regular fa-trash-can"></i></button>
                </div>
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap" style="width: 100%">
                    <button id="btnAddRoyaltyLine" class="button has-text-weight-semibold"><i class="fa-solid fa-plus"></i></button>
                    <script>
                        const jsRoyaltiesLine = document.getElementById("pageNewToken").querySelector(".js-royalties-line-template");
                        const btnAddRoyaltyLine = document.getElementById("btnAddRoyaltyLine");
                        btnAddRoyaltyLine.onclick = () => {
                            let el = jsRoyaltiesLine.cloneNode(true);
                            el.classList.remove("is-hidden");
                            el.classList.remove("js-royalties-line-template");
                            el.classList.add("js-royalties-line-data");
                            jsRoyaltiesLine.before(el);
                        };
                    </script>
                    <span class="is-size-7 ml-5 pt-3">Total:&nbsp;25%</span>
                </div>
            </div>
        </div>
        <div class="field">
            <label class="label">Rights:</label>
            <div class="field-body">
                <input id="nftRights" class="input" type="text" size="40" placeholder="License ..." value="No License / All Rights Reserved"/>
            </div>
        </div>
        <div class="field">
            <label class="label">Attributes:</label>
            <div class="field-body is-flex is-flex-wrap-wrap">
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap is-hidden js-attributes-line-template" style="width: 100%">
                    <input class="input mr-1 js-attributes-data-name" type="text" placeholder="Name ..."/>
                    <span class="mx-1 pt-2 has-text-weight-semibold">:</span>
                    <input class="input mr-1 js-attributes-data-value" type="text" placeholder="Value ..."/>
                    <button class="button has-text-weight-semibold" onclick="this.parentNode.remove();"><i class="fa-regular fa-trash-can"></i></button>
                </div>
                <div class="field is-horizontal mr-0 mb-2 is-flex is-flex-wrap-nowrap" style="width: 100%">
                    <button id="btnAddAttributeLine" class="button has-text-weight-semibold"><i class="fa-solid fa-plus"></i></button>
                    <script>
                        const jsAttributesLine = document.getElementById("pageNewToken").querySelector(".js-attributes-line-template");
                        const btnAddAttributeLine = document.getElementById("btnAddAttributeLine");
                        btnAddAttributeLine.onclick = () => {
                            let el = jsAttributesLine.cloneNode(true);
                            el.classList.remove("is-hidden");
                            el.classList.remove("js-attributes-line-template");
                            el.classList.add("js-attributes-line-data");
                            jsAttributesLine.before(el);
                        };
                    </script>
                </div>
            </div>
        </div>
        <div class="field is-hidden">
            <label class="label">Decimals:</label>
            <div class="field-body">
                <input id="nftDecimals" class="input" type="text" disabled="" value="0"/>
            </div>
        </div>
    </div>

    <div class="column">
        <div class="field">
            <label class="label">Media:</label>
            <div class="field is-horizontal mb-2 is-flex is-flex-wrap-nowrap">
                <div class="file has-name is-fullwidth mr-1" style="width: 100%">
                    <label class="file-label">
                        <input id="nftFile" class="file-input" type="file"/>
                        <span class="file-cta has-background-white">
                            <span class="file-icon"><i class="pl-3 fas fa-upload"></i></span>
                            <!--<span class="file-label">Choose a file ...</span>-->
                        </span>
                        <span id="nftFileName" class="file-name">Choose a file ...</span>
                    </label>
                </div>
                <button id="nftFileRemove" class="button has-text-weight-semibold"><i class="fa-regular fa-trash-can"></i></button>
            </div>
            <div class="field is-horizontal is-justify-content-center is-flex is-flex-wrap-nowrap">
                <span id="nftFileSizeIcon" class="icon mr-2 pb-2 is-hidden"><i class="fa-solid fa-circle-exclamation"></i></span>
                <span id="nftFileSize" class="is-size-7 mb-2">&nbsp;</span>
            </div>
        </div>
        <div class="media is-relative">
            <figure class="media-content is-flex is-justify-content-center">
                <div id="nftPreviewContainer" class="image is-256x256">
                    <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>
                    <object class="is-hidden js-svg-template" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%; pointer-events: none;" type="image/svg+xml" data=""></object>
                    <audio class="is-hidden mt-5 js-audio" controls style="width: 100%;"></audio>
                    <video class="is-hidden js-video" autoplay loop controls muted style="max-width: 256px; max-height: 256px;"></video>
                    <div class="is-hidden has-text-centered mt-5 js-text"><span class="icon is-large my-5"><i class="fa-solid fa-file-lines is-size-1"></i></span><br/>text file</div>
                    <div class="is-hidden has-text-centered mt-5 js-data"><span class="icon is-large my-5"><i class="fa-solid fa-file is-size-1"></i></span><br/>data file</div>
                </div>
            </figure>
        </div>
        <div class="field my-4 is-flex is-justify-content-center">
            <label class="checkbox is-size-7" disabled=""><input type="checkbox" checked="" disabled="" style="min-width: 32px;"/>Save media on-chain</label>
        </div>
        <div class="field">
            <label class="label is-hidden">MIME type:</label>
            <div class="field-body">
                <input id="nftType" class="input" type="text" placeholder="MIME type ..." disabled=""/>
            </div>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <button id="btnNewTokenCreate" class="button has-text-weight-semibold js-loggedin">Mint</button>
        </div>
    </div>

    </div>
</div>


<div id="pageToken" class="mt-5 p-3 is-hidden js-page">
    <div class="level">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Token</h2>
        </div>
    </div>
    <div id="dToken" class="columns">

    <div class="column">
        <div class="field">
            <p class="title is-size-4 is-spaced js-name"></p>
            <p class="js-description"></p>
        </div>
        <div class="field is-horizontal my-5">
            <!--<label class="label">Tags:</label>-->
            <div class="field-body">
                <span class="tags"><a class="tag is-hidden"></a></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Balance:</label>
            <div class="field-body">
                <span class="has-text-weight-semibold js-balance"></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Editions:</label>
            <div class="field-body">
                <span class="js-editions"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Creators:</label>
            <div class="field-body">
                <span class="js-creators">
                    <a class="is-hidden js-creator"><span class="icon"><i class="fa-solid fa-user"></i></span></a>
                </span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Minted:</label>
            <div class="field-body">
                <span class="js-firsttime"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">MIME type:</label>
            <div class="field-body">
                <span class="js-type"></span>
            </div>
        </div>
        <div class="field is-flex">
            <label class="label mr-3">Token ID:</label>
            <div class="field-body">
                <span class="js-tokenid"></span>
            </div>
        </div>
        <div class="field is-horizontal">
            <label class="label mr-3">Collection:</label>
            <div class="field-body">
                <a class="js-contract"><span class="icon mr-1"><i class="fas fa-photo-video"></i></span></a>
                <span class="is-size-7 ml-1 js-contract-copy copy-item"><span class="icon"><i class="fa-regular fa-copy"></i></span></span>
            </div>
        </div>
    </div>
    
    <div class="column">
        <div class="media is-relative">
            <figure class="media-content is-flex is-justify-content-center" style="overflow: clip;">
                <p class="is-hidden image my-5 js-container-img" style="width: 100%; height: 100%; max-width: 512px; max-height: 512px;">
                    <!--<img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>-->
                    <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 512px; max-height: 512px;" src="" onerror="this.src=GRAY_RECT"/>
                    <!--<object class="js-svg" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%; pointer-events: none;" type="image/svg+xml" data="" onerror="this.data=GRAY_RECT"></object>-->
                    <object class="js-svg" style="object-fit: contain; width: 100%; height: 100%; max-width: 512px; max-height: 512px; pointer-events: none;" type="image/svg+xml" data="" onerror="this.data=GRAY_RECT"></object>
                </p>
                <p class="is-hidden image my-5 js-container-audio">
                    <audio class="js-audio" controls style="width: 256px;"></audio>
                </p>
                <p class="is-hidden image my-5 js-container-video">
                    <video class="js-video" autoplay loop controls muted style="max-width: 256px; max-height: 256px;"></video>
                </p>
                <p class="is-hidden image my-5 has-text-centered js-container-text">
                    <span class="icon is-large my-5"><i class="fa-solid fa-file-lines is-size-1"></i></span>
                    <br/>text file
                </p>
                <p class="is-hidden image my-5 has-text-centered js-container-data">
                    <span class="icon is-large my-5"><i class="fa-solid fa-file is-size-1"></i></span>
                    <br/>data file
                </p>
            </figure>
        </div>
        <div class="field my-5 is-flex is-justify-content-center">
            <div class="buttons">
                <button id="btnTokenList" class="button has-text-weight-semibold js-loggedin">List</button>
                <button id="btnTokenBurn" class="button has-text-weight-semibold js-loggedin">Burn</button>
                <button id="btnTokenTransfer" class="button has-text-weight-semibold js-loggedin">Send</button>
                <button id="btnTokenBuy" class="button has-text-weight-semibold js-loggedin" disabled="" style="text-transform: lowercase;">
                    <i class="fa-solid fa-cart-shopping mr-2"></i>
                </button>
            </div>
        </div>
    </div>

    </div>
</div>


<div id="mListToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">List</p>
            <button id="bListTokenClose" class="delete" onclick="document.getElementById('mListToken').classList.remove('is-active');"></button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">List:</label>
                </div>
                <div class="field-body">
                    <input id="mListTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Price:</label>
                </div>
                <div class="field-body is-flex is-flex-wrap-nowrap">
                    <input id="mListTokenPrice" class="input" type="number" min="0" value="0.0" style="width: 120px;"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ?
                               Number(this.getAttribute('min')) : Math.round(this.value*10**6)/10**6)"/>
                    <span class="ml-2 pt-2 has-text-weight-semibold">&#42793;</span>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Start time:</label>
                </div>
                <div class="field-body">
                    <input id="mListTokenStartTiime" class="input" type="datetime-local" style="width: auto;"/><sub class="ml-2 pt-2">(optional)</sub>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnListTokenList" class="button has-text-weight-semibold" style="min-width: 50%;">List</button>
        </footer>
    </div>
</div>    


<div id="mBurnToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Burn</p>
            <button id="bBurnTokenClose" class="delete" onclick="document.getElementById('mBurnToken').classList.remove('is-active');"></button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Amount to burn:</label>
                </div>
                <div class="field-body">
                    <input id="mBurnTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnBurnTokenBurn" class="button has-text-weight-semibold" style="width: 50%">Burn</button>
        </footer>
    </div>
</div>


<div id="mTransferToken" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">
        <header class="modal-card-head has-text-centered">
            <p class="modal-card-title ml-5">Send</p>
            <button id="bTransferTokenClose" class="delete has-text-primary-dark" onclick="document.getElementById('mTransferToken').classList.remove('is-active');">x</button>
        </header>
        <div class="modal-card-body">
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label">Amount:</label>
                </div>
                <div class="field-body">
                    <input id="mTransferTokenAmount" class="input" type="number" min="1" max="1" value="1"
                           onchange="this.value = parseFloat(this.value < Number(this.getAttribute('min')) ? Number(this.getAttribute('min')) :
                                        (this.value > Number(this.getAttribute('max')) ? Number(this.getAttribute('max')) : this.value)).toFixed(0)"/>
                </div>
            </div>
            <div class="field is-horizontal is-justify-content-center">
                <div class="field-label is-normal">
                    <label class="label is-flex">Send to:</label>
                </div>
                <div class="field-body">
                    <input id="mTransferTokenAddressTo" class="input" size="35" type="text" placeholder="Destination address..."/>
                </div>
            </div>
        </div>
        <footer class="modal-card-foot is-justify-content-center">
            <button id="btnTransferTokenTransfer" class="button has-text-weight-semibold" style="min-width: 50%;">Send</button>
        </footer>
    </div>
</div>    


<div id="pageInfo" class="mt-5 p-3 is-hidden js-page">
    <div class="level px-1">
        <div class="level-item is-justify-content-center">
            <h2 class="title">Info</h2>
        </div>
        <div class="level-right">
            <a class="has-text-black-ter" href="https://github.com/opdev3/nftez" target="_blank">
                <span class="icon is-size-5"><i class="fa-brands fa-github"></i></span>
            </a>
        </div>
    </div>
    <div class="is-fullwidth">
    
    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>What is ZeroTerminal?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>It is a decentralized app allowing you to interact with Tezos blockchain data. For now it is aimed mostly for onchain art. This terminal eliminates any 3rd party between a user and the Tezos blockchain.</p>
                <br/>
                <p>We got two versions available for you. One is deployed on the website, another you can download and open and run on your computer. The latter just allows you not to rely on our servers. Use Testnet-Mainnet selector to choose active network you want to work with.</p>
            </div>
        </div>
    </article>
    
    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>What I can do with it?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>You can mint/list/buy/search/burn/transfer any artwork you want to see being inscribed into Tezos blockchain. The block size (~20KB) is the only limit!</p>
            </div>
        </div>
    </article>

    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>Why onchain art, if I can use any other platform to mint files larger than 20KB?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>Strictly speaking nothing can abstain you from using other platforms, but from ideological and scientific standpoint most of the art you can see minted is just a link to IPFS data. You never own the data of your NFT, but a link. Let's say, when you burn an NFT the art continues to exist. And that is a problem, because you don't have any control over the data you deployed.</p>
                <br/>
                <p>Zero Contract was made to revive the original idea of the Cypherpunk movement 'Your keys – your data'. Also 20KB limit revives here the principles of compressionism. Because the essence of the art is to say more meanwhile speaking less.</p>
            </div>
        </div>
    </article>

    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>How can I get the standalone version?</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>Just save this page with the "Web Page, HTML only" option and you can run it locally on your device.</p>
            </div>
        </div>
    </article>

    <article class="message has-background-white faq">
        <div class="js-faq-item message-header is-clickable has-text-black has-background-white">
            <p>I got a question or suggestion!</p>
            <span class="icon"><i class="fas fa-angle-up" aria-hidden="true"></i></span>
        </div>
        <div class="is-collapsible">
            <div class="message-body has-background-white faq-body">
                <p>Well, you can reach me out there <a href="mailto:ccubetez@proton.me">ccubetez@proton.me</a></p>
            </div>
        </div>
    </article>

    </div>
    <footer class="footer px-1 has-background-white">
        <div class="level">
            <div class="level-item is-justify-content-center">
                <span class="is-size-7">Data provided by <a href="https://tzkt.io/">TzKT</a> API</span>
            </div>
            <div class="level-right">
                <span id="appVersion" class="is-size-7"></span>
            </div>
        </div>
    </footer>
</div>


</div>


<template id="t-collection">
<div class="card my-3" style="min-width: 350px; max-width: 550px;">
    <div class="card-content p-3">
        <div class="media is-relative">
            <figure class="media-left">
                <a class="js-collection-item" href="">
                    <p class="image is-128x128">
                        <img class="js-img" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>
                    </p>
                </a>
            </figure>
            <div class="media-content is-fullwidth">
                <a class="js-collection-item" href=""><span class="subtitle has-text-weight-semibold js-name"></span></a>
                <br/><span class="is-size-7 pt-2 pb-1 js-address copy-item"><span class="icon"><i class="fa-regular fa-copy"></i></span></span>
                <p class="is-hidden js-description"></p>
            </div>
            <p class="is-size-7 is-pulled-right" style="position: absolute; bottom: 0; right: 0;">Items: <span class="has-text-weight-semibold js-count"></span></p>
        </div>
    </div>
</div>
</template>


<template id="t-token">
<div class="card my-3" style="min-width: 256px; max-width: 256px;">
    <div class="card-image">
        <a class="js-token-item" href="">
            <p class="image is-256x256">
                <img class="js-img is-hidden" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>
                <span class="icon is-large m-3 is-hidden js-audio"><i class="fa-solid fa-music is-size-1"></i></span>
                <span class="icon is-large m-3 is-hidden js-video"><i class="fa-solid fa-film is-size-1"></i></span>
                <span class="icon is-large m-3 is-hidden js-text"><i class="fa-solid fa-file-lines is-size-1"></i></span>
                <span class="icon is-large m-3 is-hidden js-data"><i class="fa-solid fa-file is-size-1"></i></span>
            </p>
        </a>
    </div>
    <div class="card-content px-3 pt-3 pb-2">
        <div class="is-flex is-flex-direction-column">
            <a class="js-token-item" href=""><span class="has-text-weight-semibold overflow-ellipsis js-name"></span></a>
            <span class="is-size-7 my-2 is-flex is-flex-wrap-nowrap is-hidden js-creator" style="white-space: nowrap;">
                <a class="overflow-ellipsis js-creator-link"><i class="fa-solid fa-user pr-1"></i></a>
                <span class="is-flex is-flex-wrap-nowrap js-creators">,<a class="overflow-ellipsis js-token-item js-creators-link"><i class="fa-solid fa-users p-1"></i></a></span>
            </span>
            <div>
                <span class="is-hidden"><span class="has-text-weight-semibold js-price"></span>&nbsp;&#42793;</span>
                <span class="is-size-7 pt-1 is-pulled-right">Editions:&nbsp;<span class="has-text-weight-semibold js-count"></span></span>
            </div>
        </div>
    </div>
</div>
</template>

    
<template id="t-listing">
<div class="py-3 m-0 js-listing" style="border-top: 2px solid #f5f5f5;">
    <article class="media">
        <figure class="media-left">
            <a class="js-token-item" href="">
                <p class="image is-128x128 has-text-centered">
                    <img class="js-img is-hidden" style="object-fit: contain; width: 100%; height: 100%; max-width: 100%; max-height: 100%;" src="" onerror="this.src=GRAY_RECT"/>
                    <span class="icon is-large mt-2 is-hidden js-audio"><i class="fa-solid fa-music is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-video"><i class="fa-solid fa-film is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-text"><i class="fa-solid fa-file-lines is-size-1"></i></span>
                    <span class="icon is-large mt-2 is-hidden js-data"><i class="fa-solid fa-file is-size-1"></i></span>
                </p>
            </a>
        </figure>
        <div class="media-content">
            <div class="content">
                <a class="js-token-item" href=""><span class="has-text-weight-semibold js-name"></span></a>
            </div>
            <div class="content is-small">
                <span class="js-creators">
                    <a class="is-hidden js-creator"><i class="fa-solid fa-user pr-1"></i></a>
                </span>
            </div>
            <div class="content is-small">
                <span class="js-start-time"></span> - <span class="js-expiry-time"></span>
            </div>
            <div class="content">
                <span class="mr-5"><span class="has-text-weight-semibold js-price"></span>&nbsp;&#42793;</span>
                <span class="is-size-7">x</span><span class="js-amount"></span>
            </div>
        </div>
        <div class="media-right pt-5">
            <button class="button has-text-weight-semibold js-btn-cancel-offer"><i class="fa-regular fa-trash-can"></i></button>
            <button class="button has-text-weight-semibold js-btn-buy"><i class="fa-solid fa-cart-shopping mr-2"></i>Buy</button>
        </div>
    </article>
</div>
</template>


<script>
var LT;(()=>{"use strict";function e(e){return Array.from((new TextEncoder).encode(e),(e=>e.toString(16).padStart(2,"0"))).join("")}function t(e){const t=new Uint8Array(e.length/2);for(let r=0;r!==t.length;r++)t[r]=parseInt(e.substr(2*r,2),16);return(new TextDecoder).decode(t)}function r(e){return e&&e.length>14?e.substring(0,5)+"..."+e.substring(e.length-5):e}function i(e){if(navigator.clipboard)return navigator.clipboard.writeText(e).then((function(){}),(function(e){return!1})),!0;let t=!1;var r=document.createElement("textarea");r.value=e,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),t=!0}catch(e){}return document.body.removeChild(r),t}function a(e){return/^(tz|KT)[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{34}$/.test(String(e))}function s(){try{return(new Error).stack.split("\n")[2].replace(/^\s+at\s+(.+?)\s.+/g,"$1")}catch(e){return""}}const n=window.location,o=!n.protocol.startsWith("http"),m=o||(n.host+n.pathname).indexOf("testnet")<0&&(n.host+n.pathname).indexOf("ghostnet")<0,c=m?"mainnet":"ghostnet",d=m?"KT1ULc5LQazQorDUjacBieq5puEGFQZ6jorT":"KT1VCnPM6SKpvza6TLkbNcoxAgS6B61JLGtE",l=m?"KT1KyPvhak54X3yiozebqhPhnqrtWNTiaWm1":"KT1TRuN4Uc4ai6ZjWRjtedX9ChmfcfvxfBXt",p="-1835576114,-1513923773,-1889653220,-543526052,943737041",g='{"code":[{"prim":"storage","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%administrator"]},{"prim":"pair","args":[{"prim":"nat","annots":["%all_tokens"]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}],"annots":["%ledger"]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}]},{"prim":"unit"}],"annots":["%operators"]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%token_info"]}]}],"annots":["%token_metadata"]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}],"annots":["%total_supply"]}]}]}]}]},{"prim":"parameter","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%requests"]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%request"]},{"prim":"nat","annots":["%balance"]}]}]}],"annots":["%callback"]}],"annots":["%balance_of"]},{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"nat","annots":["%token_id"]}],"annots":["%burn"]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address","annots":["%address"]},{"prim":"pair","args":[{"prim":"nat","annots":["%amount"]},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}],"annots":["%metadata"]}]}],"annots":["%mint"]},{"prim":"or","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%from_"]},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address","annots":["%to_"]},{"prim":"pair","args":[{"prim":"nat","annots":["%token_id"]},{"prim":"nat","annots":["%amount"]}]}]}],"annots":["%txs"]}]}],"annots":["%transfer"]},{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%add_operator"]},{"prim":"pair","args":[{"prim":"address","annots":["%owner"]},{"prim":"pair","args":[{"prim":"address","annots":["%operator"]},{"prim":"nat","annots":["%token_id"]}]}],"annots":["%remove_operator"]}]}],"annots":["%update_operators"]}]}]}]}]},{"prim":"code","args":[[{"prim":"CAST","args":[{"prim":"pair","args":[{"prim":"or","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"contract","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]}]},{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]}]},{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"or","args":[{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"list","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]},{"prim":"list","args":[{"prim":"or","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]}]}]}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]},{"prim":"nat"}]}]}]},{"prim":"pair","args":[{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"string"},{"prim":"bytes"}]},{"prim":"big_map","args":[{"prim":"pair","args":[{"prim":"address"},{"prim":"pair","args":[{"prim":"address"},{"prim":"nat"}]}]},{"prim":"unit"}]}]},{"prim":"pair","args":[{"prim":"big_map","args":[{"prim":"nat"},{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"big_map","args":[{"prim":"nat"},{"prim":"nat"}]}]}]}]}]}]},{"prim":"UNPAIR"},{"prim":"IF_LEFT","args":[[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"CAR"},{"prim":"MAP","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"434"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SWAP"},{"prim":"PAIR"}],[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"SWAP"},{"prim":"PAIR"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"PUSH","args":[{"prim":"mutez"},{"int":"0"}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"TRANSFER_TOKENS"},{"prim":"CONS"}],[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CDR"},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"CDR"},{"prim":"SENDER"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"538"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"538"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"6"}]},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"539"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"NONE","args":[{"prim":"pair","args":[{"prim":"nat"},{"prim":"map","args":[{"prim":"string"},{"prim":"bytes"}]}]}]},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]}],[{"prim":"DROP"}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"CAR"},{"prim":"SENDER"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_ADMIN"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"PAIR"},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"5"}]},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"6"}]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SOME"},{"prim":"DIG","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"UPDATE","args":[{"int":"6"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"1"}]},{"prim":"ADD"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"}],[{"prim":"IF_LEFT","args":[[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"DUP"},{"prim":"CDR"},{"prim":"ITER","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[{"prim":"PUSH","args":[{"prim":"bool"},{"prim":"True"}]}],[{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"CDR"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"MEM"}]]},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OPERATOR"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"GET","args":[{"int":"5"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"MEM"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_TOKEN_UNDEFINED"}]},{"prim":"FAILWITH"}]]},{"prim":"PUSH","args":[{"prim":"nat"},{"int":"0"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"COMPARE"},{"prim":"GT"},{"prim":"IF","args":[[{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"414"}]},{"prim":"FAILWITH"}],[]]},{"prim":"COMPARE"},{"prim":"GE"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_INSUFFICIENT_BALANCE"}]},{"prim":"FAILWITH"}]]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[]]},{"prim":"SUB"},{"prim":"ISNAT"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"4"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"9"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"418"}]},{"prim":"FAILWITH"}],[{"prim":"DROP"}]]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"4"}]},{"prim":"CAR"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"3"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"MEM"},{"prim":"IF","args":[[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DUP","args":[{"int":"7"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"DUP"},{"prim":"DUG","args":[{"int":"2"}]},{"prim":"GET"},{"prim":"IF_NONE","args":[[{"prim":"PUSH","args":[{"prim":"int"},{"int":"421"}]},{"prim":"FAILWITH"}],[]]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"ADD"},{"prim":"SOME"},{"prim":"SWAP"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}],[{"prim":"DIG","args":[{"int":"3"}]},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"DUP","args":[{"int":"5"}]},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SOME"},{"prim":"DUP","args":[{"int":"6"}]},{"prim":"GET","args":[{"int":"3"}]},{"prim":"DIG","args":[{"int":"6"}]},{"prim":"CAR"},{"prim":"PAIR"},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"DUG","args":[{"int":"2"}]}]]}],[{"prim":"DROP"}]]}]]},{"prim":"DROP"}]]},{"prim":"DROP"}],[{"prim":"DUP"},{"prim":"ITER","args":[[{"prim":"IF_LEFT","args":[[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"PUSH","args":[{"prim":"option","args":[{"prim":"unit"}]},{"prim":"Some","args":[{"prim":"Unit"}]}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}],[{"prim":"SENDER"},{"prim":"DUP","args":[{"int":"2"}]},{"prim":"CAR"},{"prim":"COMPARE"},{"prim":"EQ"},{"prim":"IF","args":[[],[{"prim":"PUSH","args":[{"prim":"string"},{"string":"FA2_NOT_OWNER"}]},{"prim":"FAILWITH"}]]},{"prim":"DIG","args":[{"int":"2"}]},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"UNPAIR"},{"prim":"UNPAIR"},{"prim":"SWAP"},{"prim":"NONE","args":[{"prim":"unit"}]},{"prim":"DIG","args":[{"int":"5"}]},{"prim":"DUP"},{"prim":"GET","args":[{"int":"4"}]},{"prim":"SWAP"},{"prim":"DUP"},{"prim":"GET","args":[{"int":"3"}]},{"prim":"SWAP"},{"prim":"CAR"},{"prim":"PAIR","args":[{"int":"3"}]},{"prim":"UPDATE"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"PAIR"},{"prim":"SWAP"},{"prim":"PAIR"},{"prim":"SWAP"}]]}]]},{"prim":"DROP"}]]}]]},{"prim":"NIL","args":[{"prim":"operation"}]}]]},{"prim":"PAIR"}]]}],"storage":{"prim":"Pair","args":[{"prim":"Pair","args":[{"string":"${user_address}"},{"prim":"Pair","args":[{"int":"0"},[]]}]},{"prim":"Pair","args":[{"prim":"Pair","args":[[{"prim":"Elt","args":[{"string":""},{"bytes":"74657a6f732d73746f726167653a636f6e74656e74"}]},{"prim":"Elt","args":[{"string":"content"},{"bytes":"${metadata_content}"}]}],[]]},{"prim":"Pair","args":[[],[]]}]}]}}',u="ZeroTerminal";let y,v="";async function h(e,t,r){let i="sort.desc=lastActivity&select=address,tokensCount,firstActivityTime,creator&typeHash"+(p.indexOf(",")>=0?".in":"")+"="+p+(e?"&creator="+e:"&tokensCount.gt=0")+(t?"&limit="+t:"")+(r?"&offset="+r:"");try{let e=await fetch("https://api."+c+".tzkt.io/v1/contracts?"+i);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get collections")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function f(e){try{let t=await fetch("https://api."+c+".tzkt.io/v1/contracts/"+e+"/bigmaps/metadata/keys?key=content&select=value");if(t.ok)return(await t.json())[0];console.log("ERROR "+s()+"(): can't get collection metadata")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function E(e,t){let r="sort.desc=id&active=true&select=key,value"+(e?"&value.token.address="+e:"")+(t?"&value.token.id="+t:"");try{let e=await fetch("https://api."+c+".tzkt.io/v1/contracts/"+l+"/bigmaps/offers/keys?"+r);if(e.ok){let t=await e.json();if(t&&t.length>0){let e=null;for(let r of t)r.value.seller!==v&&(e?Number(e.value.price)>=Number(r.value.price)&&(e=r):e=r);return e}}else console.log("ERROR "+s()+"(): can't get best offer")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}async function I(e,t){let r="limit=1&select=account.address as account,token,balance,firstTime&token.contract="+e+"&token.tokenid="+t;try{let e=await fetch("https://api."+c+".tzkt.io/v1/tokens/balances?"+r+"&account="+v);if(e.ok){let t=await e.json();if(t.length>0)return t[0];{let e=await fetch("https://api."+c+".tzkt.io/v1/tokens/balances?"+r);if(e.ok){if(t=await e.json(),t.length>0)return t[0].account=v,t[0].balance=0,t[0]}else console.log("ERROR "+s()+"(): can't get token")}}else console.log("ERROR "+s()+"(): can't get token balance")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}const T={message:"The address is copied",type:"is-success"};async function S(){document.getElementById("btnMoreActiveTokens").classList.add("is-loading");let e=document.getElementById("dActiveTokens"),t=0,r=await async function(e,t){let r="sort.desc=lastActivity&totalSupply.gt=0&select=contract,tokenId,totalSupply,firstMinter,metadata&metadata.artifactUri.as=data*&limit=20"+(t?"&offset="+t:"");try{let e=await fetch("https://api."+c+".tzkt.io/v1/tokens?"+r);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(0,L);if(document.getElementById("dActiveTokensLoader").classList.add("is-hidden"),r){for(let i of r){t++;let r=i.token?i.token:i,a=await R(r);a&&e.append(a)}t<20?document.getElementById("dMoreActiveTokens").classList.add("is-hidden"):document.getElementById("dMoreActiveTokens").classList.remove("is-hidden"),document.getElementById("btnMoreActiveTokens").classList.remove("is-loading"),0===(L+=t)&&(e.textContent="There are no on-chain tokens yet.")}else x()}document.addEventListener("DOMContentLoaded",(async function(){document.getElementById("appTitle").prepend(document.createTextNode(u)),document.getElementById("appVersion").append(document.createTextNode("v1.05")),o&&document.getElementById("btnMenuConfig").classList.add("is-hidden"),"mainnet"===c?(document.getElementById("iconMainnetNotActive").classList.add("is-hidden"),document.getElementById("iconMainnetActive").classList.remove("is-hidden"),document.getElementById("iconTestnetActive").classList.add("is-hidden"),document.getElementById("iconTestnetNotActive").classList.remove("is-hidden")):(document.getElementById("titleNetwork").innerHTML="&nbsp;testnet",document.getElementById("titleNetwork").classList.remove("is-hidden"),document.getElementById("iconMainnetActive").classList.add("is-hidden"),document.getElementById("iconMainnetNotActive").classList.remove("is-hidden"),document.getElementById("iconTestnetNotActive").classList.add("is-hidden"),document.getElementById("iconTestnetActive").classList.remove("is-hidden")),bulmaToast.setDefaults({duration:5e3,position:"bottom-left",animate:{in:"zoomIn",out:"zoomOut"}}),y=new beacon.DAppClient({name:u,network:{type:c,rpcUrl:"https://rpc.tzkt.io/"+c}}),await O(!0);let e=new URLSearchParams(window.location.search).get("cmd");"info"===e?await(document.getElementById("btnBurger").classList.remove("is-active"),document.getElementById("navbarMenu").classList.remove("is-active"),C(),void document.getElementById("pageInfo").classList.remove("is-hidden")):"tokens"===e?await async function(){C(),document.getElementById("dTokens").innerHTML="",document.getElementById("pageTokens").classList.remove("is-hidden");let e=new URLSearchParams(window.location.search).get("cid");e&&(b=e),await k()}():"token"===e?await async function(){C();let e=document.getElementById("btnTokenBuy"),t=document.getElementById("btnTokenList");t.classList.add("is-hidden");let a=document.getElementById("btnTokenBurn");a.classList.add("is-hidden");let s=document.getElementById("btnTokenTransfer");s.classList.add("is-hidden"),document.getElementById("dToken").classList.add("is-hidden"),document.getElementById("pageToken").classList.remove("is-hidden"),new URL(window.location);let n=new URLSearchParams(window.location.search),o=n.get("cid");o?b=o:o=b;let m=n.get("tid");m?q=m:m=q;let c,d=document.getElementById("pageToken"),l=await I(b,m);if(l){let n;j=l,l.account===v&&l.balance>0&&(t.classList.remove("is-hidden"),a.classList.remove("is-hidden"),s.classList.remove("is-hidden")),new Promise((t=>{setTimeout((()=>{t(Promise.all([E(l.token.contract.address,l.token.tokenId),e]))}),10)})).then((e=>{e[0]&&(e[1].append(document.createTextNode((parseFloat(e[0].value.price)/1e6).toFixed(2)+" ꜩ")),e[1].addEventListener("click",(()=>U(e[0].key,e[0].value.price))),e[1].removeAttribute("disabled"))})),c=l.token.metadata?.name,d.querySelector(".js-name").innerText=c||"",c=l.token.metadata?.description,d.querySelector(".js-description").innerText=c||"";let o=d.querySelector(".js-creators"),m=d.querySelector(".js-creator");c=l.token.metadata?.creators;try{c=JSON.parse(c);for(let e=0;e<c.length;e++){let t=c[e];n=m.cloneNode(!0),n.setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+t),n.append(document.createTextNode(r(t))),n.classList.remove("is-hidden"),o.append(n),o.append(document.createElement("br"))}}catch(e){d.querySelector(".js-creators").innerText=""}c=v&&v===l.account?l.balance:"",d.querySelector(".js-balance").innerText=c||"",c=l.token.totalSupply,d.querySelector(".js-editions").innerText=c||"",c=l.firstTime,d.querySelector(".js-firsttime").innerText=c?new Date(Date.parse(c)).toLocaleString():"";let p=l.token.contract.address;n=d.querySelector(".js-contract"),n.setAttribute("href",window.location.pathname+"?cmd=tokens&cid="+p),n.append(document.createTextNode(r(p))),d.querySelector(".js-contract-copy").addEventListener("click",(()=>{p&&i(p)&&bulmaToast.toast(T)})),c=l.token.tokenId,d.querySelector(".js-tokenid").innerText=c||"";let g=d.querySelector(".tags"),u=g.querySelector(".tag");c=l.token.metadata?.tags;try{c=JSON.parse(c);for(let e=0;e<c.length;e++)n=u.cloneNode(!0),n.append(document.createTextNode(c[e])),n.setAttribute("href",window.location.pathname+"?cmd=tokens&tag="+c[e]),n.classList.remove("is-hidden"),g.append(n)}catch(e){g.innerText=""}let y=l.token.metadata?.mimeType;if(d.querySelector(".js-type").innerText=y||"",c=l.token.metadata?.artifactUri,c){try{new URL(c),c=c.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}y||(y=M(c)),y?y.startsWith("image")?(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),y.startsWith("image/svg+xml")?(d.querySelector(".js-img").remove(),d.querySelector(".js-svg").setAttribute("data",c)):(d.querySelector(".js-svg").remove(),d.querySelector(".js-img").setAttribute("src",c)),d.querySelector(".js-container-img").classList.remove("is-hidden")):y.startsWith("audio")?(d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-audio").setAttribute("src",c),d.querySelector(".js-container-audio").classList.remove("is-hidden")):y.startsWith("video")?(d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-video").setAttribute("src",c),d.querySelector(".js-container-video").classList.remove("is-hidden")):y.startsWith("text")?(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-container-text").classList.remove("is-hidden")):(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-img").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").classList.remove("is-hidden")):(d.querySelector(".js-container-audio").remove(),d.querySelector(".js-container-video").remove(),d.querySelector(".js-container-text").remove(),d.querySelector(".js-container-data").remove(),d.querySelector(".js-svg").remove(),d.querySelector(".js-img").setAttribute("src",c),d.querySelector(".js-container-img").classList.remove("is-hidden"))}document.getElementById("dToken").classList.remove("is-hidden")}}():"search"===e?await async function(){C(),document.getElementById("pageSearch").classList.remove("is-hidden")}():"collections"===e?await async function(){C(),document.getElementById("dCollections").innerHTML="",document.getElementById("pageCollections").classList.remove("is-hidden"),await P()}():"newtoken"===e?await async function(){if(C(),v?document.getElementById("btnNewTokenCreate").removeAttribute("disabled"):(document.getElementById("btnNewTokenCreate").setAttribute("disabled",""),bulmaToast.toast({message:"To create a new token you need to connect wallet.",type:"is-danger"})),document.getElementById("nftCreators").value=v,document.getElementById("pageNewToken").classList.remove("is-hidden"),v){const e=document.getElementById("nftCollection");let r=document.createElement("option");r.setAttribute("value",d),r.append(document.createTextNode("- ZeroTerminal collection -")),e.append(r),e.parentNode.classList.add("is-loading");let i=await h(v,15,A);if(i)for(let a of i){let i=await f(a.address);if(i)try{i=JSON.parse(t(i))}catch(e){continue}r=document.createElement("option"),r.setAttribute("value",a.address),r.append(document.createTextNode(i?.name)),e.append(r)}e.parentNode.classList.remove("is-loading")}}():"newcollection"===e?await async function(){C(),v?document.getElementById("btnNewCollectionCreate").removeAttribute("disabled"):(document.getElementById("btnNewCollectionCreate").setAttribute("disabled",""),bulmaToast.toast({message:"To create a new collection you need to connect wallet.",type:"is-danger"})),document.getElementById("cCreators").value=v,document.getElementById("pageNewCollection").classList.remove("is-hidden")}():"listings"===e?await async function(){C(),document.getElementById("dListings").innerHTML="",document.getElementById("pageListings").classList.remove("is-hidden"),await B()}():await async function(){C(),document.getElementById("dActiveTokens").innerHTML="",document.getElementById("pageActiveTokens").classList.remove("is-hidden"),await S()}()})),document.getElementById("dMoreActiveTokens").addEventListener("click",(()=>S())),document.getElementById("btnMoreCollections").addEventListener("click",(()=>P()));var A=0;async function P(){document.getElementById("btnMoreCollections").classList.add("is-loading");let e=document.getElementById("dCollections"),a=0,s=new URLSearchParams(window.location.search).get("creator"),n=await h(s,15,A);if(document.getElementById("dCollectionsLoader").classList.add("is-hidden"),n){for(let o of n){if(a++,!s&&0===o.tokensCount)continue;let n=await f(o.address);if(n)try{n=JSON.parse(t(n))}catch(e){continue}const m=document.getElementById("t-collection").content.cloneNode(!0);let c=n?.imageUri;if(c){try{new URL(c),c=c.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}m.querySelector(".js-img").setAttribute("src",c)}m.querySelector(".js-name").innerText=n?.name,m.querySelector(".js-description").innerText=n?.description,m.querySelector(".js-address").prepend(document.createTextNode(r(o.address))),m.querySelector(".copy-item").addEventListener("click",(()=>{o.address&&i(o.address)&&bulmaToast.toast(T)})),m.querySelector(".js-count").innerText=o.tokensCount,m.querySelectorAll(".js-collection-item").forEach((function(e){e.setAttribute("href",window.location.pathname+"?cmd=tokens&cid="+o.address)})),e.append(m)}a<15?document.getElementById("dMoreCollections").classList.add("is-hidden"):document.getElementById("dMoreCollections").classList.remove("is-hidden"),document.getElementById("btnMoreCollections").classList.remove("is-loading"),0===(A+=a)&&(e.textContent="There are no on-chain tokens yet.")}else x()}document.getElementById("btnMoreTokens").addEventListener("click",(()=>k()));var L=0,b="";async function k(){document.getElementById("btnMoreTokens").classList.add("is-loading");let e,t=document.getElementById("dTokens"),r=0,i=new URLSearchParams(window.location.search);if(e=i.get("account")?await async function(e,t,r){let i="sort.desc=id&select=account.address%20as%20account,token,balance&balance.gt=0&token.standard=fa2"+(e?"&account="+e:"")+"&limit=20"+(r?"&offset="+r:"")+"&token.metadata.artifactUri.as=data:*";try{let e=await fetch("https://api."+c+".tzkt.io/v1/tokens/balances?"+i);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(i.get("account"),0,L):await async function(e,t,r,i,a,n,o,m){let d="sort.desc=id&totalSupply.gt=0&select=contract,tokenId,totalSupply,firstMinter,metadata&limit=20"+(t?"&offset="+t:"")+(r?"&contract.in="+r:"")+(m?"&firstMinter="+m:"")+(i?"&metadata.name="+encodeURIComponent(i):"")+"&metadata.artifactUri.as=data:"+(o||"")+"*";if(a&&a.length>0){a.sort(),d+="&metadata.creators.as=*";for(let e of a)d+='"'+e+'"*'}if(n&&n.length>0){n.sort(((e,t)=>e.localeCompare(t))),d+="&metadata.tags.as=*";for(let e of n)d+='"'+encodeURIComponent(e)+'"*'}try{let e=await fetch("https://api."+c+".tzkt.io/v1/tokens?"+d);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get tokens")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(0,L,i.get("cid"),i.get("name"),i.getAll("creator"),i.getAll("tag"),i.get("type"),i.get("minter")),document.getElementById("dTokensLoader").classList.add("is-hidden"),e){for(let i of e){r++;let e=i.token?i.token:i,a=await R(e);a&&t.append(a)}r<20?document.getElementById("dMoreTokens").classList.add("is-hidden"):document.getElementById("dMoreTokens").classList.remove("is-hidden"),document.getElementById("btnMoreTokens").classList.remove("is-loading"),0===(L+=r)&&(t.textContent="There are no on-chain tokens yet.")}else x()}async function R(e){if("0"===e.totalSupply)return null;let t;const i=document.getElementById("t-token").content.cloneNode(!0);let a=i.querySelector(".js-price");new Promise((t=>{setTimeout((()=>{t(Promise.all([E(e.contract.address,e.tokenId),a]))}),100)})).then((e=>{e[0]&&(e[1].innerText=(parseFloat(e[0].value.price)/1e6).toFixed(2),e[1].parentNode.classList.remove("is-hidden"))}));let s=e.metadata?.name;t=i.querySelector(".js-name"),t.innerText=s||"";let n=e.firstMinter?.address,o=e.firstMinter?.alias;s=e.metadata?.creators;try{s=JSON.parse(s)}catch(e){}let m=i.querySelector(".js-creator");if(Array.isArray(s)&&s.length>0){let e=n&&s.includes(n)?n:s[0],t=e!==n?r(s[0]):o||r(n),a=i.querySelector(".js-creators");s.length>1?a.querySelector(".js-creators-link").append(document.createTextNode("+"+(s.length-1)+"...")):a.remove(),m.querySelector(".js-creator-link").append(document.createTextNode(t)),m.querySelector(".js-creator-link").setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+e),m.classList.remove("is-hidden")}else m.remove();if(s=e.totalSupply,t=i.querySelector(".js-count"),t.innerText=s||"",s=e.metadata?.artifactUri,s){try{new URL(s),s=s.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let t=e.metadata?.mimeType;t||(t=M(s)),t?t.startsWith("image")?(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",s),i.querySelector(".js-img").classList.remove("is-hidden")):t.startsWith("audio")?(i.querySelector(".js-img").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-audio").setAttribute("src",s),i.querySelector(".js-audio").classList.remove("is-hidden")):t.startsWith("video")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-video").setAttribute("src",s),i.querySelector(".js-video").classList.remove("is-hidden")):t.startsWith("text")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-text").classList.remove("is-hidden")):(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").classList.remove("is-hidden")):(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",s),i.querySelector(".js-img").classList.remove("is-hidden"))}return i.querySelectorAll(".js-token-item").forEach((function(t){t.setAttribute("href",window.location.pathname+"?cmd=token&cid="+e.contract.address+"&tid="+e.tokenId)})),i}async function B(){let e=document.getElementById("dListings"),t=new URLSearchParams(window.location.search),r=t.get("seller"),i=t.get("minprice"),a=t.get("maxprice"),n=t.get("cid"),o=t.get("tid");document.getElementById("btnMoreListings").classList.add("is-loading");let m=0,d=await async function(e,t,r,i,a,n,o){let m="sort.desc=id&active=true&select=key,value&limit=15"+(o?"&offset="+o:"")+(e?"&value.seller="+e:"")+(t?"&value.price.ge="+t:"")+(r?"&value.price.le="+r:"")+(i?"&value.token.address="+i:"")+(a?"&value.token.id="+a:"");try{let e=await fetch("https://api."+c+".tzkt.io/v1/contracts/"+l+"/bigmaps/offers/keys?"+m);if(e.ok)return await e.json();console.log("ERROR "+s()+"(): can't get offers")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(r,i,a,n,o,0,L);if(document.getElementById("dListingsLoader").classList.add("is-hidden"),d){for(let t of d){m++;let r=await w(t);e.append(r)}m<15?document.getElementById("dMoreListings").classList.add("is-hidden"):document.getElementById("dMoreListings").classList.remove("is-hidden"),document.getElementById("btnMoreListings").classList.remove("is-loading"),0===(L+=m)&&(e.textContent="There are no listings matching these criteria.")}else x()}async function w(e){let t;const i=document.getElementById("t-listing").content.cloneNode(!0);let a=(await I(e.value.token.address,e.value.token.id)).token,n=a.metadata?.name;t=i.querySelector(".js-name"),t.innerText=n||"";let o=i.querySelector(".js-creators"),m=i.querySelector(".js-creator");n=a.metadata?.creators;try{n=JSON.parse(n);for(let e=0;e<n.length;e++)t=m.cloneNode(!0),t.setAttribute("href",window.location.pathname+"?cmd=tokens&creator="+n[e]),t.append(document.createTextNode(r(n[e]))),e>0&&o.append(document.createTextNode(", ")),t.classList.remove("is-hidden"),o.append(t)}catch(e){i.querySelector(".js-creators").innerText=""}if(n=new Date(Date.parse(e.value.time_start)).toLocaleString(),t=i.querySelector(".js-start-time"),t.innerText=n||"",n=e.value.time_expiry?new Date(Date.parse(e.value.time_expiry))?.toLocaleString():"...",t=i.querySelector(".js-expiry-time"),t.innerText=n||"",n=e.value.amount,t=i.querySelector(".js-amount"),t.innerText=n||"",n=(parseFloat(e.value.price)/1e6).toFixed(2),t=i.querySelector(".js-price"),t.innerText=n||"",n=a.metadata?.artifactUri,n){try{new URL(n),n=n.replace("ipfs://","https://ipfs.io/ipfs/")}catch(e){}let e=a.metadata?.mimeType;e||(e=M(n)),e?e.startsWith("image")?(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",n),i.querySelector(".js-img").classList.remove("is-hidden")):e.startsWith("audio")?(i.querySelector(".js-img").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-audio").setAttribute("src",n),i.querySelector(".js-audio").classList.remove("is-hidden")):e.startsWith("video")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-video").setAttribute("src",n),i.querySelector(".js-video").classList.remove("is-hidden")):e.startsWith("text")?(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-text").classList.remove("is-hidden")):(i.querySelector(".js-img").remove(),i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").classList.remove("is-hidden")):(i.querySelector(".js-audio").remove(),i.querySelector(".js-video").remove(),i.querySelector(".js-text").remove(),i.querySelector(".js-data").remove(),i.querySelector(".js-img").setAttribute("src",n),i.querySelector(".js-img").classList.remove("is-hidden"))}let c=i.querySelector(".js-btn-buy"),d=i.querySelector(".js-btn-cancel-offer");return e.value.seller===v?(c.classList.add("is-hidden"),d.classList.remove("is-hidden"),d.addEventListener("click",(()=>async function(e){let t=event.currentTarget,r=event.target.closest(".js-listing");t.classList.add("is-loading");let i=await async function(e){try{let t=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:l,parameters:{entrypoint:"cancel_offer",value:JSON.parse('{ "int": "'+e+'" }')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e);i&&(F(i),r.remove()),t.classList.remove("is-loading")}(e.key)))):(d.classList.add("is-hidden"),c.classList.remove("is-hidden"),c.addEventListener("click",(()=>U(e.key,e.value.price)))),i.querySelectorAll(".js-token-item").forEach((function(e){e.setAttribute("href",window.location.pathname+"?cmd=token&cid="+a.contract.address+"&tid="+a.tokenId)})),i}function N(){document.getElementById("nftType").value="",document.getElementById("nftFileName").innerHTML="Choose a file ...",document.getElementById("nftFileSizeIcon").classList.add("is-hidden"),document.getElementById("nftFileSize").innerHTML="&nbsp;";const e=document.getElementById("nftPreviewContainer");e.querySelector(".js-text").classList.add("is-hidden"),e.querySelector(".js-data").classList.add("is-hidden");let t=e.querySelector(".js-audio");t.classList.contains("is-hidden")||(t.classList.add("is-hidden"),t.setAttribute("src","")),t=e.querySelector(".js-video"),t.classList.contains("is-hidden")||(t.classList.add("is-hidden"),t.setAttribute("src","")),t=e.querySelector(".js-svg"),t&&t.remove(),t=e.querySelector(".js-img"),t.setAttribute("src",""),t.classList.remove("is-hidden")}document.getElementById("btnMoreListings").addEventListener("click",(()=>B())),document.getElementById("btnSearch").addEventListener("click",(()=>async function(){let e="";if(document.getElementById("searchListTab").classList.contains("is-active")){let t,r,i=document.getElementById("searchListMinPrice").value;if(i){if(i=Math.round(parseFloat(i)*10**6),Number.isNaN(i)||i<=0)return void bulmaToast.toast({message:"Invalid min price.",type:"is-danger"});t=i,e+="&minprice="+i}if(i=document.getElementById("searchListMaxPrice").value,i){if(i=Math.round(parseFloat(i)*10**6),Number.isNaN(i)||i<=0)return void bulmaToast.toast({message:"Invalid max price.",type:"is-danger"});r=i,e+="&maxprice="+i}if(t&&r&&t>r)return void bulmaToast.toast({message:"Invalid price range.",type:"is-danger"});if(i=document.getElementById("searchListAddress").value.trim(),i){if(!a(i))return void bulmaToast.toast({message:"Invalid token or collection address.",type:"is-danger"});e+="&cid="+i}if(i=document.getElementById("searchListSeller").value.trim(),i){if(!a(i))return void bulmaToast.toast({message:"Invalid seller address.",type:"is-danger"});e+="&seller="+i}window.location.search="cmd=listings"+e}else if(document.getElementById("searchColTab").classList.contains("is-active")){let t=document.getElementById("searchColCreator").value.trim();if(t){if(!a(t))return void bulmaToast.toast({message:"Invalid creator address.",type:"is-danger"});e+="&creator="+t}window.location.search="cmd=collections"+e}else if(document.getElementById("searchTokTab").classList.contains("is-active")){let t=document.getElementById("searchTokName").value.trim();if(t){if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});e+="&name="+encodeURIComponent(t)}t=document.getElementById("searchTokCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(!a(r))return void bulmaToast.toast({message:"Invalid creator address: "+r,type:"is-danger"});e+="&creator="+r.trim()}t=document.getElementById("searchTokTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0));for(let r of t){if(r.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});e+="&tag="+encodeURIComponent(r.trim())}if(t=document.getElementById("searchTokType").value.trim(),t&&(e+="&type="+t),t=document.getElementById("searchTokMinter").value.trim(),t){if(!a(t))return void bulmaToast.toast({message:"Invalid minter address.",type:"is-danger"});e+="&minter="+t}window.location.search="cmd=tokens"+e}}())),document.getElementById("btnNewCollectionCreate").addEventListener("click",(()=>async function(){let t,r=new Map;if(t=document.getElementById("cName").value.trim(),!t)return void bulmaToast.toast({message:"The collection name must not be empty.",type:"is-danger"});if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});if(r.set("name",t),t=document.getElementById("cDescription").value.trim(),t){if(t.length>2e3)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});r.set("description",t)}if(t=document.getElementById("cSymbol").value.trim(),t&&r.set("symbol",t),t=document.getElementById("cType").value.trim(),t&&r.set("type",t),t=document.getElementById("cInterfaces").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("interfaces",t),t=document.getElementById("cAuthors").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0&&r.set("authors",t),t=document.getElementById("cAddresses").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!a(e))return void bulmaToast.toast({message:"Invalid author address: "+e,type:"is-danger"});t.sort(),r.set("authoraddress",t)}if(t=document.getElementById("cCreators").value.split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!a(e))return void bulmaToast.toast({message:"Invalid creator address: "+e,type:"is-danger"});t.sort(),r.set("creators",t)}const i=document.getElementById("cFile").files;i.length>0&&(t=await new Promise((e=>{let t=new FileReader;t.onload=r=>e(t.result),t.readAsDataURL(i[0])})),r.set("imageUri",t)),document.getElementById("btnNewCollectionCreate").classList.add("is-loading");let n=await async function(t){let r=t.size>0?e(JSON.stringify(Object.fromEntries(t))):"";try{let e;if(g)e=g;else{let t=await fetch("./user_collection.json");t.ok&&(e=await t.text())}if(e){e=e.replaceAll("${user_address}",v),e=e.replaceAll("${metadata_content}",r);const t=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.ORIGINATION,balance:"0",script:JSON.parse(e)}]});if(t.transactionHash)return t.transactionHash}else console.log("ERROR "+s()+"(): can't create collection")}catch(e){console.log("ERROR "+s()+"(): "+e+JSON.stringify(e))}}(r);n&&F(n),document.getElementById("btnNewCollectionCreate").classList.remove("is-loading")}())),document.getElementById("cFile").addEventListener("change",(()=>function(){const e=document.getElementById("cFile"),t=document.getElementById("cFileImage"),r=document.getElementById("cFileSizeIcon");if(r.classList.add("is-hidden"),e.files.length>0){let i=e.files[0];document.getElementById("cFileName").innerHTML=i.name;let a="0 Bytes";if(i.size>0){let e=["Bytes","KB","MB","GB","TB"],t=Math.floor(Math.log(i.size)/Math.log(1024));a=parseFloat((i.size/Math.pow(1024,t)).toFixed(2))+" "+e[t],i.size>10240&&(r.classList.remove("is-hidden"),r.classList.remove("has-text-danger"),r.classList.add("has-text-warning"),i.size>15360?(r.classList.remove("has-text-warning"),r.classList.add("has-text-danger"),bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"})):bulmaToast.toast({message:"Likely this file is big. Try to make it smaller.",type:"is-warning"}))}document.getElementById("cFileSize").innerHTML=a;let s=new FileReader;s.readAsDataURL(i),s.onload=e=>{t.setAttribute("src",e.target.result)}}else document.getElementById("cFileSize").innerHTML="&nbsp;",document.getElementById("cFileName").innerHTML="Choose a file ...",t.setAttribute("src","")}())),document.getElementById("cFileRemove").addEventListener("click",(()=>(document.getElementById("cFile").value="",document.getElementById("cFileSizeIcon").classList.add("is-hidden"),document.getElementById("cFileSize").innerHTML="&nbsp;",document.getElementById("cFileName").innerHTML="Choose a file ...",void document.getElementById("cFileImage").setAttribute("src","")))),document.getElementById("btnNewTokenCreate").addEventListener("click",(()=>async function(){let t,r=new Map,i=document.getElementById("nftCollection").value;if(!i)return void bulmaToast.toast({message:"Collection must be selected.",type:"is-danger"});if(t=document.getElementById("nftName").value.trim(),t){if(t.length>200)return void bulmaToast.toast({message:"The name length must be less than 200 characters.",type:"is-danger"});r.set("name",t)}if(t=document.getElementById("nftDescription").value.trim(),t){if(t.length>200)return void bulmaToast.toast({message:"The description length must be less than 2000 characters.",type:"is-danger"});r.set("description",t)}if(t=document.getElementById("nftTags").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(e.length<3)return void bulmaToast.toast({message:"The tag length must be more than 2 characters.",type:"is-danger"});t.sort(((e,t)=>e.localeCompare(t))),r.set("tags",t)}if(t=document.getElementById("nftCreators").value.trim().split(/\s*,\s*/).filter((e=>e.length>0)),t.length>0){for(let e of t)if(!a(e))return void bulmaToast.toast({message:"Invalid creator address: "+e,type:"is-danger"});t.sort(),r.set("creators",t)}t=document.getElementById("nftType").value.trim(),t&&r.set("mimeType",t),t=document.getElementById("nftRights").value.trim(),t&&r.set("rights",t),t=document.getElementById("nftDecimals").value.trim(),t&&r.set("decimals",t);let n=new Map,o=0,m=document.getElementById("pageNewToken").querySelectorAll(".js-royalties-line-data");for(let e of m){let t=e.querySelector(".js-royalties-data-address").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The royalty address must not be empty.",type:"is-danger"});if(!a(t))return void bulmaToast.toast({message:"Invalid royalty address: "+t,type:"is-danger"});if(n.has(t))return void bulmaToast.toast({message:"The royalty addresses must be different.",type:"is-danger"});let r=e.querySelector(".js-royalties-data-value").value;try{r=Math.round(100*parseFloat(r))}catch(e){return void bulmaToast.toast({message:"The royalty value must be a number.",type:"is-danger"})}if(r<=0)return void bulmaToast.toast({message:"The royalty value must be greater than zero.",type:"is-danger"});if(o+=r,o>2500)return void bulmaToast.toast({message:"The maximum amount of the total royalty shall not exceed 25%.",type:"is-danger"});n.set(t,r)}n.size>0&&(t='{"decimals":4,"shares":'+JSON.stringify(Object.fromEntries(n))+"}",r.set("royalties",t));const d=document.getElementById("nftFile").files;if(!(d.length>0))return void bulmaToast.toast({message:"Media file must be selected.",type:"is-danger"});t=await new Promise((e=>{let t=new FileReader;t.onload=r=>e(t.result),t.readAsDataURL(d[0])})),r.set("artifactUri",t);let l=new Map,p=document.getElementById("pageNewToken").querySelectorAll(".js-attributes-line-data");for(let e of p){let t=e.querySelector(".js-attributes-data-name").value.trim();if(0===t.length)return void bulmaToast.toast({message:"The attribute name must not be empty.",type:"is-danger"});if(l.has(t))return void bulmaToast.toast({message:"The attribute names must be different.",type:"is-danger"});let r=e.querySelector(".js-attributes-data-value").value;l.set(t,r)}if(l.size>0){let e="[",t=!0;for(let[r,i]of l)t?t=!1:e+=",",e+='{"name":"'+r+'","value":"'+i+'"}';e+="]",r.set("attributes",e)}let g=document.getElementById("nftEditions").value;document.getElementById("btnNewTokenCreate").classList.add("is-loading");let u=await async function(t,r,i){let a="";if((i=new Map([...i].sort())).size>0){let t=!0;for(let[r,s]of i)t?t=!1:a+=",",a+='{"prim":"Elt","args":[{"string":"'+r+'"},{"bytes":"'+e("string"==typeof s||s instanceof String?s:JSON.stringify(s))+'"}]}'}let n='{"string":"'+v+'"}',o='{"int":"'+r+'"}',m="["+a+"]",d=[];try{let e='{"prim":"Pair","args":[${0},{"prim":"Pair","args":[${1},${2}]}]}';try{let r=await fetch("https://api."+c+".tzkt.io/v1/contracts/"+t+"/entrypoints/mint"),i=await r.json();2===Object.keys(i.jsonParameters["schema:object"]).length&&(e='{"prim":"Pair","args":[${0},${1}]}');for(let e of Object.keys(i.jsonParameters["schema:object"]))e.endsWith(":address")?d.push(n):e.endsWith(":nat")?d.push(o):e.endsWith(":map_flat:string:bytes")&&d.push(m)}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}for(let t=0;t<d.length;t++)e=e.replace("${"+t+"}",d[t]);let r=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"mint",value:JSON.parse(e)}}]});if(r.transactionHash)return r.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(i,g,r);u&&F(u),document.getElementById("btnNewTokenCreate").classList.remove("is-loading")}())),document.getElementById("nftFile").addEventListener("change",(()=>function(){const e=document.getElementById("nftFile");if(N(),e.files.length>0){let t=e.files[0];document.getElementById("nftFileName").innerHTML=t.name;let r="0 Bytes";if(t.size>0){const e=document.getElementById("nftFileSizeIcon");let i=["Bytes","KB","MB","GB","TB"],a=Math.floor(Math.log(t.size)/Math.log(1024));r=parseFloat((t.size/Math.pow(1024,a)).toFixed(2))+" "+i[a],t.size>20480&&(e.classList.remove("has-text-danger"),e.classList.add("has-text-warning"),e.classList.remove("is-hidden"),t.size>28672?(e.classList.remove("has-text-warning"),e.classList.add("has-text-danger"),bulmaToast.toast({message:"This file is big. Try to make it smaller.",type:"is-danger"})):bulmaToast.toast({message:"Likely this file is big. Try to make it smaller.",type:"is-warning"}))}document.getElementById("nftFileSize").innerHTML=r;let i=t.type;document.getElementById("nftType").value=i;let a=new FileReader;a.onload=e=>{let t=e.target.result;const r=document.getElementById("nftPreviewContainer");if(i)if(r.querySelector(".js-img").classList.add("is-hidden"),i.startsWith("image"))if(i.startsWith("image/svg+xml")){let e=r.querySelector(".js-svg-template").cloneNode(!0);e.classList.remove("js-svg-template"),e.classList.add("js-svg"),e.setAttribute("data",t),r.append(e),e.classList.remove("is-hidden")}else r.querySelector(".js-img").setAttribute("src",t),r.querySelector(".js-img").classList.remove("is-hidden");else i.startsWith("audio")?(r.querySelector(".js-audio").setAttribute("src",t),r.querySelector(".js-audio").classList.remove("is-hidden")):i.startsWith("video")?(r.querySelector(".js-video").setAttribute("src",t),r.querySelector(".js-video").classList.remove("is-hidden")):i.startsWith("text")?r.querySelector(".js-text").classList.remove("is-hidden"):r.querySelector(".js-data").classList.remove("is-hidden");else r.querySelector(".js-img").setAttribute("src",t)},a.readAsDataURL(t)}}())),document.getElementById("nftFileRemove").addEventListener("click",(()=>(document.getElementById("nftFile").value="",void N()))),document.getElementById("btnTokenList").addEventListener("click",(()=>async function(){j&&document.getElementById("mListTokenAmount").setAttribute("max",j.balance),document.getElementById("mListToken").classList.add("is-active")}())),document.getElementById("btnListTokenList").addEventListener("click",(()=>async function(){if(!j)return void bulmaToast.toast({message:"The token is not found.",type:"is-danger"});let e=Math.round(parseFloat(document.getElementById("mListTokenPrice").value)*10**6);if(Number.isNaN(e)||e<=0)return void bulmaToast.toast({message:"Invalid price.",type:"is-danger"});let t,r=j.token.contract.address,i=j.token.tokenId,a=document.getElementById("mListTokenAmount").value;try{let e=JSON.parse(j.token.metadata.royalties);t=new Map(Object.entries(e.shares));let r=e.decimals;for(let[e,i]of t)t.set(e,Math.trunc(Number(i)/10**r*1e4))}catch(e){t=new Map}let n=document.getElementById("mListTokenStartTiime").value;n=Math.trunc(Date.parse(n)/1e3),n||(n=Math.trunc(Date.now()/1e3));document.getElementById("btnListTokenList").classList.add("is-loading");let o=await async function(e,t,r,i,a,n,o){let m="";if(a&&a.size>0){a=new Map([...a].sort());let e=0;for(let[t,r]of a)e>0&&(m+=","),e++,m+='{"prim":"Elt","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}'}o=o?'"prim":"Some","args":[{"int":"'+o+'"}]':'"prim":"None"';try{let a=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:t,parameters:{entrypoint:"update_operators",value:JSON.parse('[ { "prim": "Left", "args": [ { "prim": "Pair", "args": [ { "string": "'+v+'" }, { "prim": "Pair", "args": [ { "string": "'+l+'" }, { "int": "'+r+'" } ] } ] } ] } ]')}},{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:l,parameters:{entrypoint:"add_offer",value:JSON.parse('{"prim":"Pair","args":[{"prim":"Pair","args":[{"int":"'+i+'"},{"prim":"Pair","args":[{"int":"'+e+'"},['+m+']]}]},{"prim":"Pair","args":[{'+o+'},{"prim":"Pair","args":[{"int":"'+n+'"},{"prim":"Pair","args":[{"string":"'+t+'"},{"int":"'+r+'"}]}]}]}]}')}}]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e,r,i,a,t,n,"");o&&(F(o),document.getElementById("mListToken").classList.remove("is-active")),document.getElementById("btnListTokenList").classList.remove("is-loading")}())),document.getElementById("btnTokenBurn").addEventListener("click",(()=>async function(){j&&document.getElementById("mBurnTokenAmount").setAttribute("max",j.balance),document.getElementById("mBurnToken").classList.add("is-active")}())),document.getElementById("btnBurnTokenBurn").addEventListener("click",(()=>async function(){document.getElementById("btnBurnTokenBurn").classList.add("is-loading");let e=document.getElementById("mBurnTokenAmount").value,t=await async function(e,t,r){try{let i='{"prim":"Pair","args":[{"int":"'+r+'"},{"int":"'+t+'"}]}';try{let r=await fetch("https://api."+c+".tzkt.io/v1/contracts/"+e+"/entrypoints/burn?json=false&michelson=true");(await r.json()).michelsonParameters.startsWith("pair")||(i='{"int":"'+t+'"}')}catch(e){}let a=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"burn",value:JSON.parse(i)}}]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(b,q,e);t&&(F(t),window.history.back()),document.getElementById("btnBurnTokenBurn").classList.remove("is-loading")}())),document.getElementById("btnTokenTransfer").addEventListener("click",(()=>async function(){j&&document.getElementById("mTransferTokenAmount").setAttribute("max",j.balance),document.getElementById("mTransferTokenAddressTo").value="",document.getElementById("mTransferToken").classList.add("is-active")}())),document.getElementById("btnTransferTokenTransfer").addEventListener("click",(()=>async function(){let e=document.getElementById("mTransferTokenAmount").value,t=document.getElementById("mTransferTokenAddressTo").value.trim();if(!a(t))return void bulmaToast.toast({message:"Invalid destination address.",type:"is-danger"});document.getElementById("btnTransferTokenTransfer").classList.add("is-loading");let r=await async function(e,t,r,i){try{let a=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:0,destination:e,parameters:{entrypoint:"transfer",value:JSON.parse('[{"prim": "Pair","args":[{"string":"'+v+'"},[{"prim": "Pair","args":[{"string":"'+i+'"},{"prim": "Pair","args":[{"int":"'+t+'"},{"int":"'+r+'"}]}]}]]}]')}}]});if(a.transactionHash)return a.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(b,q,e,t);r&&(F(r),document.getElementById("mTransferToken").classList.remove("is-active")),document.getElementById("btnTransferTokenTransfer").classList.remove("is-loading")}()));var j,q="";async function U(e,t){let r=event.currentTarget;r.classList.add("is-loading");let i=await async function(e,t,r){try{let t=await y.requestOperation({operationDetails:[{kind:beacon.TezosOperationType.TRANSACTION,amount:1*r,destination:l,parameters:{entrypoint:"accept_offer",value:JSON.parse('{"prim":"Pair","args":[{"int":"1"},{"int":"'+e+'"}]}')}}]});if(t.transactionHash)return t.transactionHash}catch(e){console.log("ERROR "+s()+"(): "+e+" "+JSON.stringify(e))}}(e,0,t);i&&F(i),r.classList.remove("is-loading")}function D(){let e=event.currentTarget.querySelector(".fas");event.currentTarget.parentElement.querySelector(".is-collapsible").classList.toggle("is-active"),e.classList.toggle("fa-angle-down"),e.classList.toggle("fa-angle-up")}async function O(e){let t=v;await async function(e){let t=await y.getActiveAccount();if(t)v=t.address;else if(!e){let e=await y.requestPermissions({network:{type:c}});v=e.address}}(e),v&&(document.getElementById("divConnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML=r(v),document.getElementById("divDisconnect").classList.remove("is-hidden")),e||t===v||window.location.reload()}function C(){document.querySelectorAll(".js-page").forEach((function(e){e.classList.add("is-hidden")}))}function M(e){return e&&e.startsWith("data:")?e.startsWith("data:image/svg+xml")?"image/svg+xml":e.startsWith("data:image")?"image":e.startsWith("data:text")?"text":e.startsWith("data:audio")?"audio":e.startsWith("data:video")?"video":"data":""}function F(e){bulmaToast.toast({message:"Your request is processing with ID <a href='https://"+c+".tzkt.io/"+e+"' target='_blank'>"+r(e)+"</a>",duration:5e3,type:"is-success"})}function x(){bulmaToast.toast({message:"The data cannot be retrieved at this moment.<br/>Please try again later.",duration:7e3,type:"is-warning"})}document.querySelectorAll(".js-faq-item").forEach((function(e){e.onclick=D})),document.getElementById("btnConnect").addEventListener("click",(()=>O(!1))),document.getElementById("btnDisconnect").addEventListener("click",(()=>async function(){await async function(){await y.clearActiveAccount(),v=""}(),v||(document.getElementById("divDisconnect").classList.add("is-hidden"),document.getElementById("aAddress").innerHTML="",document.getElementById("divConnect").classList.remove("is-hidden")),window.location.reload()}())),document.getElementById("btnMenuTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens"})),document.getElementById("btnMenuCollections").addEventListener("click",(()=>{window.location.search="cmd=collections"})),document.getElementById("btnMenuListings").addEventListener("click",(()=>{window.location.search="cmd=listings"})),document.getElementById("btnMenuSearch").addEventListener("click",(()=>{window.location.search="cmd=search"})),document.getElementById("btnMenuNewToken").addEventListener("click",(()=>{window.location.search="cmd=newtoken"})),document.getElementById("btnMenuNewCollection").addEventListener("click",(()=>{window.location.search="cmd=newcollection"})),document.getElementById("btnMenuInfo").addEventListener("click",(()=>{window.location.search="cmd=info"})),document.getElementById("btnMenuCopyAddress").addEventListener("click",(()=>{v&&i(v)&&bulmaToast.toast(T)})),document.getElementById("btnMenuMyCollections").addEventListener("click",(()=>{window.location.search="cmd=collections&creator="+v})),document.getElementById("btnMenuMyTokens").addEventListener("click",(()=>{window.location.search="cmd=tokens&account="+v})),document.getElementById("btnMenuMyListings").addEventListener("click",(()=>{window.location.search="cmd=listings&seller="+v})),LT={}})();
</script>

</body>
</html>
